(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Mathematica 11.0' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       158,          7]
NotebookDataLength[    162106,       3819]
NotebookOptionsPosition[    160295,       3755]
NotebookOutlinePosition[    160770,       3774]
CellTagsIndexPosition[    160727,       3771]
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{

Cell[CellGroupData[{
Cell["ME314 - Final Project - Gerik Zatorski", "Title",
 CellChangeTimes->{{3.690218140167184*^9, 3.690218145252961*^9}, 
   3.690218288931326*^9, {3.717953089167948*^9, 3.717953090289942*^9}, {
   3.718035648228943*^9, 3.718035654408235*^9}}],

Cell[CellGroupData[{

Cell["\<\
Introduction:

Phase 1 (hold -> roll)
Phase 2 (roll -> release)
Phase 3 (simulation after release)\
\>", "Subsection",
 CellChangeTimes->{{3.7179530942799807`*^9, 3.7179531022281237`*^9}, {
  3.71795313581951*^9, 3.7179531690763807`*^9}, {3.7179545659665823`*^9, 
  3.717954587781436*^9}, {3.717967444269444*^9, 3.717967446835157*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"Quit", "[", "]"}], ";"}]], "Input",
 CellChangeTimes->{{3.690218149756562*^9, 3.690218153983665*^9}, {
  3.717802869110281*^9, 3.717802876960553*^9}, {3.717802927026269*^9, 
  3.717802927868371*^9}, {3.7179673225627317`*^9, 3.7179673322633457`*^9}}]
}, Open  ]],

Cell[CellGroupData[{

Cell["Phase 1 (hold -> roll)", "Section",
 CellChangeTimes->{{3.6902182917834167`*^9, 3.690218302014227*^9}, 
   3.690225387331921*^9, 3.690225431291205*^9, {3.690226325684214*^9, 
   3.690226328296939*^9}, {3.717437536919784*^9, 3.717437539029827*^9}, {
   3.717439237615748*^9, 3.717439244929146*^9}, {3.717954815325201*^9, 
   3.7179548207729177`*^9}, 3.718036100638585*^9}],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"ClearAll", "[", "\"\<Global`*\>\"", "]"}], "\[IndentingNewLine]", 
  "\[IndentingNewLine]", 
  RowBox[{"(*", " ", 
   RowBox[{
   "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", 
    "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", 
    "##"}], " ", "*)"}], "\[IndentingNewLine]", 
  RowBox[{"(*", " ", 
   RowBox[{"Helper", " ", "Functions"}], " ", "*)"}], "\[IndentingNewLine]", 
  RowBox[{"(*", " ", 
   RowBox[{
   "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", 
    "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", 
    "##"}], " ", "*)"}], "\[IndentingNewLine]", "\[IndentingNewLine]", 
  RowBox[{"(*", " ", 
   RowBox[{"SE", 
    RowBox[{"(", "2", ")"}], " ", "representation", " ", "of", " ", "rigid", 
    " ", "body", " ", "motion", " ", "in", " ", "the", " ", "plane"}], " ", 
   "*)"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"g", "[", 
     RowBox[{"x_", ",", "y_", ",", "\[Theta]_"}], "]"}], "=", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{
        RowBox[{"Cos", "[", "\[Theta]", "]"}], ",", 
        RowBox[{"-", 
         RowBox[{"Sin", "[", "\[Theta]", "]"}]}], ",", "x"}], "}"}], ",", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{"Sin", "[", "\[Theta]", "]"}], ",", 
        RowBox[{"Cos", "[", "\[Theta]", "]"}], ",", "y"}], "}"}], ",", 
      RowBox[{"{", 
       RowBox[{"0", ",", "0", ",", "1"}], "}"}]}], "}"}]}], ";"}], "\n", 
  RowBox[{"(*", " ", 
   RowBox[{
   "unhat", " ", "takes", " ", "a", " ", "3", "x3", " ", "matrix", " ", 
    "that", " ", "is", " ", "assumed", " ", "to", " ", "be", " ", 
    RowBox[{"ginv", ".", "gdot"}], " ", "for", " ", "SE", 
    RowBox[{"(", "2", ")"}], " ", "and", " ", "returns", " ", "a", " ", "3", 
    "x1", " ", 
    RowBox[{"vector", ".", " ", "The"}], " ", "first", " ", "two", " ", 
    "components", " ", "are", " ", "the", " ", "linear", " ", "velocities", 
    " ", "in", " ", "x", " ", "and", " ", "y", " ", "and", " ", "the", " ", 
    "third", " ", "component", " ", "is", " ", "the", " ", "angular", " ", 
    "velocity", " ", 
    RowBox[{"(", 
     RowBox[{
     "around", " ", "the", " ", "\"\<z\>\"", " ", "axis", " ", "that", " ", 
      "is", " ", "out", " ", "of", " ", "the", " ", "plane", " ", "of", " ", 
      "motion"}], " "}]}], "*)"}]}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"unhat", "[", "a_", "]"}], ":=", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{"a", "[", 
       RowBox[{"[", 
        RowBox[{"1", ",", "3"}], "]"}], "]"}], ",", 
      RowBox[{"a", "[", 
       RowBox[{"[", 
        RowBox[{"2", ",", "3"}], "]"}], "]"}], ",", 
      RowBox[{"a", "[", 
       RowBox[{"[", 
        RowBox[{"2", ",", "1"}], "]"}], "]"}]}], "}"}]}], ";"}], "\n", 
  RowBox[{"(*", " ", 
   RowBox[{
    RowBox[{"hat", "[", "]"}], " ", "takes", " ", "a", " ", "3", "x1", " ", 
    "vector", " ", "and", " ", "creates", " ", "a", " ", "3", "x3", " ", 
    "matrix"}], " ", "*)"}]}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"hat", "[", "a_", "]"}], ":=", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{"0", ",", 
        RowBox[{"-", 
         RowBox[{"a", "[", 
          RowBox[{"[", "3", "]"}], "]"}]}], ",", 
        RowBox[{"a", "[", 
         RowBox[{"[", "1", "]"}], "]"}]}], "}"}], ",", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{"a", "[", 
         RowBox[{"[", "3", "]"}], "]"}], ",", "0", ",", 
        RowBox[{"a", "[", 
         RowBox[{"[", "2", "]"}], "]"}]}], "}"}], ",", 
      RowBox[{"{", 
       RowBox[{"0", ",", "0", ",", "0"}], "}"}]}], "}"}]}], ";"}], "\n", 
  RowBox[{"(*", " ", 
   RowBox[{
    RowBox[{"Hom", "[", "]"}], " ", "takes", " ", "a", " ", "point", " ", 
    "in", " ", "the", " ", "plane", " ", "and", " ", "adds", " ", "a", " ", 
    "1", " ", "to", " ", "the", " ", "end", " ", "of", " ", "it", " ", "to", 
    " ", "create", " ", "a", " ", "homogeneous", " ", "representation", " ", 
    "of", " ", "that", " ", 
    RowBox[{"point", ".", " ", "This"}], " ", "is", " ", "used", " ", "for", 
    " ", "animation"}], " ", "*)"}]}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"Hom", "[", "pt_", "]"}], ":=", 
    RowBox[{"Flatten", "[", 
     RowBox[{"{", 
      RowBox[{"pt", ",", "1"}], "}"}], "]"}]}], ";"}], "\n", 
  RowBox[{"(*", " ", 
   RowBox[{
    RowBox[{"UnHom", "[", "]"}], " ", "takes", " ", "a", " ", "homogeneous", 
    " ", "representation", " ", "of", " ", "a", " ", "point", " ", "and", " ",
     "returns", " ", "the", " ", "point", " ", "in", " ", "the", " ", "plane",
     " ", "by", " ", "removing", " ", "the", " ", "1", " ", "at", " ", "the", 
    " ", "end"}], " ", "*)"}]}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"UnHom", "[", "pt_", "]"}], ":=", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{"pt", "[", 
       RowBox[{"[", "1", "]"}], "]"}], ",", 
      RowBox[{"pt", "[", 
       RowBox[{"[", "2", "]"}], "]"}]}], "}"}]}], ";"}], "\n", 
  RowBox[{"(*", " ", 
   RowBox[{
   "Distance", " ", "between", " ", "two", " ", "points", " ", "in", " ", "2",
     "D", " ", "plane"}], " ", "*)"}]}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"Distance2D", "[", 
     RowBox[{"x_", ",", "y_"}], "]"}], ":=", 
    RowBox[{"Sqrt", "[", 
     RowBox[{
      RowBox[{
       RowBox[{"(", 
        RowBox[{
         RowBox[{"x", "[", 
          RowBox[{"[", "1", "]"}], "]"}], "-", 
         RowBox[{"y", "[", 
          RowBox[{"[", "1", "]"}], "]"}]}], ")"}], "^", "2"}], "+", 
      RowBox[{
       RowBox[{"(", 
        RowBox[{
         RowBox[{"x", "[", 
          RowBox[{"[", "2", "]"}], "]"}], "-", 
         RowBox[{"y", "[", 
          RowBox[{"[", "2", "]"}], "]"}]}], ")"}], "^", "2"}]}], "]"}]}], 
   ";"}], "\[IndentingNewLine]", "\[IndentingNewLine]", 
  RowBox[{"(*", " ", 
   RowBox[{
   "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", 
    "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", 
    "##"}], " ", "*)"}], "\[IndentingNewLine]", 
  RowBox[{"(*", " ", "Constants", " ", "*)"}], "\[IndentingNewLine]", 
  RowBox[{"(*", " ", 
   RowBox[{
   "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", 
    "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", 
    "##"}], " ", "*)"}], "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"tMax", "=", "3"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"tThrow", "=", "0.4"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"grav", "=", "9.8"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"RimThickness", "=", 
    RowBox[{"1", "/", "12"}]}], ";"}], "\[IndentingNewLine]", 
  "\[IndentingNewLine]", 
  RowBox[{"(*", " ", 
   RowBox[{"Coefficient", " ", "of", " ", "Restitution"}], " ", 
   "*)"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"c", "=", "0.8"}], ";"}], "\[IndentingNewLine]", 
  "\[IndentingNewLine]", 
  RowBox[{"(*", " ", "Conversions", " ", "*)"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"FtToM", "=", "0.3048"}], ";"}], "\[IndentingNewLine]", 
  RowBox[{"(*", " ", 
   RowBox[{"Ball", " ", "Constants"}], " ", "*)"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"m", "=", "0.625"}], ";"}], "\n", 
 RowBox[{
  RowBox[{"diameterBall", "=", 
   RowBox[{
    RowBox[{"9.55", "/", "12"}], "*", "FtToM"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"rBall", "=", 
    RowBox[{"diameterBall", "/", "2"}]}], ";"}], "\[IndentingNewLine]", 
  RowBox[{"(*", " ", 
   RowBox[{"Link", " ", "Constants"}], " ", "*)"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"L1", "=", "0.9"}], ";"}], "\[IndentingNewLine]", 
  "\[IndentingNewLine]", 
  RowBox[{"(*", " ", 
   RowBox[{
   "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", 
    "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", 
    "##"}], " ", "*)"}], "\[IndentingNewLine]", 
  RowBox[{"(*", " ", 
   RowBox[{"Frame", " ", "Transformations"}], " ", "*)"}], 
  "\[IndentingNewLine]", 
  RowBox[{"(*", " ", 
   RowBox[{
   "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", 
    "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", 
    "##"}], " ", "*)"}], "\[IndentingNewLine]", "\[IndentingNewLine]", 
  RowBox[{"(*", " ", "Joints", " ", "*)"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"g0", "=", 
   RowBox[{"g", "[", 
    RowBox[{"0", ",", "0", ",", 
     RowBox[{"\[Theta]0", "[", "t", "]"}]}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"gHand", "=", 
   RowBox[{"g0", ".", 
    RowBox[{"g", "[", 
     RowBox[{
      RowBox[{"L1", "/", "2"}], ",", "0", ",", "0"}], "]"}]}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"g2", "=", 
    RowBox[{"g0", ".", 
     RowBox[{"g", "[", 
      RowBox[{"L1", ",", "0", ",", 
       RowBox[{"\[Theta]2", "[", "t", "]"}]}], "]"}]}]}], ";"}], 
  "\[IndentingNewLine]", "\[IndentingNewLine]", 
  RowBox[{"(*", " ", "BallHold", " ", "*)"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"gBallHold", "=", 
   RowBox[{"g0", ".", 
    RowBox[{"g", "[", 
     RowBox[{
      RowBox[{"L1", "/", "2"}], ",", "rBall", ",", "0"}], "]"}]}]}], ";", " ", 
  RowBox[{"(*", " ", 
   RowBox[{
   "transformation", " ", "before", " ", "ball", " ", "is", " ", "allowed", 
    " ", "to", " ", "roll"}], " ", "*)"}], "\n", 
  RowBox[{"gline1Hold", "=", 
   RowBox[{"gBallHold", ".", 
    RowBox[{"g", "[", 
     RowBox[{
      RowBox[{"-", "rBall"}], ",", "0", ",", "0"}], "]"}]}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"gline2Hold", "=", 
    RowBox[{"gBallHold", ".", 
     RowBox[{"g", "[", 
      RowBox[{"rBall", ",", "0", ",", "0"}], "]"}]}]}], ";"}], 
  "\[IndentingNewLine]", "\[IndentingNewLine]", 
  RowBox[{"(*", " ", "BallRoll", " ", "*)"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"gBallRoll", "=", 
   RowBox[{"g", "[", 
    RowBox[{
     RowBox[{"x", "[", "t", "]"}], ",", 
     RowBox[{"y", "[", "t", "]"}], ",", 
     RowBox[{"\[Theta]", "[", "t", "]"}]}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"gHandBall", "=", 
   RowBox[{
    RowBox[{"Inverse", "[", "gHand", "]"}], ".", "gBallRoll"}]}], ";", " ", 
  RowBox[{"(*", " ", 
   RowBox[{"ball", " ", "in", " ", "hand", " ", "frame"}], " ", "*)"}], 
  "\[IndentingNewLine]", 
  RowBox[{"\[Theta]HandBall", "=", 
   RowBox[{
    RowBox[{"\[Theta]", "[", "t", "]"}], "-", 
    RowBox[{"\[Theta]0", "[", "t", "]"}]}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"xHandBall", "=", 
   RowBox[{"gHandBall", "[", 
    RowBox[{"[", 
     RowBox[{"1", ",", "3"}], "]"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"gContact", "=", 
    RowBox[{"g0", ".", 
     RowBox[{"g", "[", 
      RowBox[{
       RowBox[{
        RowBox[{"L1", "/", "2"}], "-", 
        RowBox[{"rBall", "*", "\[Theta]HandBall"}]}], ",", "0", ",", "0"}], 
      "]"}]}]}], ";"}], "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"gPoint1Roll", "=", 
   RowBox[{"gBallRoll", ".", 
    RowBox[{"g", "[", 
     RowBox[{
      RowBox[{"-", "rBall"}], ",", "0", ",", "0"}], "]"}]}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"gPoint2Roll", "=", 
    RowBox[{"gBallRoll", ".", 
     RowBox[{"g", "[", 
      RowBox[{"rBall", ",", "0", ",", "0"}], "]"}]}]}], ";"}], 
  "\[IndentingNewLine]", "\[IndentingNewLine]", 
  RowBox[{"(*", " ", "BallSimulate", " ", "*)"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"gBallSim", "=", 
   RowBox[{"g", "[", 
    RowBox[{
     RowBox[{"xSim", "[", "t", "]"}], ",", 
     RowBox[{"ySim", "[", "t", "]"}], ",", 
     RowBox[{"\[Theta]Sim", "[", "t", "]"}]}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"gPoint1Sim", "=", 
   RowBox[{"gBallSim", ".", 
    RowBox[{"g", "[", 
     RowBox[{
      RowBox[{"-", "rBall"}], ",", "0", ",", "0"}], "]"}]}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"gPoint2Sim", "=", 
    RowBox[{"gBallSim", ".", 
     RowBox[{"g", "[", 
      RowBox[{"rBall", ",", "0", ",", "0"}], "]"}]}]}], ";"}], 
  "\[IndentingNewLine]", "\[IndentingNewLine]", 
  RowBox[{"(*", " ", 
   RowBox[{
   "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", 
    "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", 
    "##"}], " ", "*)"}], "\[IndentingNewLine]", 
  RowBox[{"(*", " ", 
   RowBox[{
   "Static", " ", "Coordinates", " ", "and", " ", "Graphics", " ", 
    "Primatives"}], " ", "*)"}], "\[IndentingNewLine]", 
  RowBox[{"(*", " ", 
   RowBox[{
   "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", 
    "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", 
    "##"}], " ", "*)"}], "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"coordLeftRim", "=", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"-", "3"}], ",", "1"}], "}"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"coordRightRim", "=", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"-", "2.5"}], ",", "1"}], "}"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"coordBackboardBottom", "=", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"-", "3.2"}], ",", "0.8"}], "}"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"coordBackboardTop", "=", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{"-", "3.2"}], ",", "1.8"}], "}"}]}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"graphicBackboard", "=", 
   RowBox[{"Line", "[", 
    RowBox[{"{", 
     RowBox[{"coordBackboardBottom", ",", "coordBackboardTop"}], "}"}], 
    "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"graphicLeftRim", "=", 
   RowBox[{"Disk", "[", 
    RowBox[{"coordLeftRim", ",", 
     RowBox[{"RimThickness", "/", "2"}]}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"graphicRightRim", "=", 
    RowBox[{"Disk", "[", 
     RowBox[{"coordRightRim", ",", 
      RowBox[{"RimThickness", "/", "2"}]}], "]"}]}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"graphicDebug", "=", 
    RowBox[{"Text", "[", 
     RowBox[{"t", ",", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{"-", "0.2"}], ",", "0.2"}], "}"}]}], "]"}]}], ";"}], 
  "\[IndentingNewLine]", "\[IndentingNewLine]", 
  RowBox[{"(*", " ", 
   RowBox[{
   "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", 
    "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", 
    "##"}], " ", "*)"}], "\[IndentingNewLine]", 
  RowBox[{"(*", " ", 
   RowBox[{
   "Dynamic", " ", "Coordinates", " ", "and", " ", "Graphics", " ", 
    "Primatives"}], " ", "*)"}], "\[IndentingNewLine]", 
  RowBox[{"(*", " ", 
   RowBox[{
   "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", 
    "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", 
    "##"}], " ", "*)"}], "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"coordj0", "[", "time_", "]"}], ":=", 
   RowBox[{
    RowBox[{"(", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{
        RowBox[{"g0", "[", 
         RowBox[{"[", 
          RowBox[{"1", ",", "3"}], "]"}], "]"}], ",", 
        RowBox[{"g0", "[", 
         RowBox[{"[", 
          RowBox[{"2", ",", "3"}], "]"}], "]"}]}], "}"}], "/.", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{"\[Theta]0", "[", "t", "]"}], "\[Rule]", "\[Theta]0sol"}], 
       "}"}]}], ")"}], "/.", 
    RowBox[{"t", "\[Rule]", "time"}]}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"coordj2", "[", "time_", "]"}], ":=", 
   RowBox[{
    RowBox[{"(", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{
        RowBox[{"g2", "[", 
         RowBox[{"[", 
          RowBox[{"1", ",", "3"}], "]"}], "]"}], ",", 
        RowBox[{"g2", "[", 
         RowBox[{"[", 
          RowBox[{"2", ",", "3"}], "]"}], "]"}]}], "}"}], "/.", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{"\[Theta]0", "[", "t", "]"}], "\[Rule]", "\[Theta]0sol"}], 
       "}"}]}], ")"}], "/.", 
    RowBox[{"t", "\[Rule]", "time"}]}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"coordBallHold", "[", "time_", "]"}], ":=", 
   RowBox[{
    RowBox[{"(", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{
        RowBox[{"gBallHold", "[", 
         RowBox[{"[", 
          RowBox[{"1", ",", "3"}], "]"}], "]"}], ",", 
        RowBox[{"gBallHold", "[", 
         RowBox[{"[", 
          RowBox[{"2", ",", "3"}], "]"}], "]"}]}], "}"}], "/.", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{"\[Theta]0", "[", "t", "]"}], "\[Rule]", "\[Theta]0sol"}], 
       "}"}]}], ")"}], "/.", 
    RowBox[{"t", "\[Rule]", "time"}]}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"coordLine1Hold", "[", "time_", "]"}], ":=", 
   RowBox[{
    RowBox[{"(", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{
        RowBox[{"gline1Hold", "[", 
         RowBox[{"[", 
          RowBox[{"1", ",", "3"}], "]"}], "]"}], ",", 
        RowBox[{"gline1Hold", "[", 
         RowBox[{"[", 
          RowBox[{"2", ",", "3"}], "]"}], "]"}]}], "}"}], "/.", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{"\[Theta]0", "[", "t", "]"}], "\[Rule]", "\[Theta]0sol"}], 
       "}"}]}], ")"}], "/.", 
    RowBox[{"t", "\[Rule]", "time"}]}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"coordLine2Hold", "[", "time_", "]"}], ":=", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{
         RowBox[{"gline2Hold", "[", 
          RowBox[{"[", 
           RowBox[{"1", ",", "3"}], "]"}], "]"}], ",", 
         RowBox[{"gline2Hold", "[", 
          RowBox[{"[", 
           RowBox[{"2", ",", "3"}], "]"}], "]"}]}], "}"}], "/.", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{"\[Theta]0", "[", "t", "]"}], "\[Rule]", "\[Theta]0sol"}], 
        "}"}]}], ")"}], "/.", 
     RowBox[{"t", "\[Rule]", "time"}]}]}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"graphicL1", "=", 
   RowBox[{"Line", "[", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{"coordj0", "[", "t", "]"}], ",", 
      RowBox[{"coordj2", "[", "t", "]"}]}], "}"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"graphicBallHold", " ", "=", " ", 
   RowBox[{"Circle", "[", 
    RowBox[{
     RowBox[{"coordBallHold", "[", "t", "]"}], ",", "rBall"}], "]"}]}], 
  ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"graphicLineHold", "=", 
    RowBox[{"Line", "[", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"coordLine1Hold", "[", "t", "]"}], ",", 
       RowBox[{"coordLine2Hold", "[", "t", "]"}]}], "}"}], "]"}]}], ";"}], 
  "\[IndentingNewLine]", "\[IndentingNewLine]", 
  RowBox[{"(*", " ", 
   RowBox[{
   "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", 
    "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", 
    "##"}], " ", "*)"}], "\[IndentingNewLine]", 
  RowBox[{"(*", " ", 
   RowBox[{
    RowBox[{"Fake", " ", "Joint", " ", "Positions"}], ",", " ", "Velocities", 
    ",", " ", 
    RowBox[{"and", " ", "Accelerations"}]}], " ", "*)"}], 
  "\[IndentingNewLine]", 
  RowBox[{"(*", " ", 
   RowBox[{
   "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", 
    "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", 
    "##"}], " ", "*)"}], "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"\[Theta]0sol", "=", 
   RowBox[{
    RowBox[{"ListInterpolation", "[", 
     RowBox[{
      RowBox[{
       RowBox[{"Pi", "/", "12"}], "*", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{"-", "3.5"}], ",", "6"}], "}"}]}], ",", 
      RowBox[{"{", 
       RowBox[{"0", ",", "tThrow"}], "}"}]}], "]"}], "[", "t", "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"\[Theta]0dotsol", "=", 
   RowBox[{"D", "[", 
    RowBox[{"\[Theta]0sol", ",", "t"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"\[Theta]0dotdotsol", "=", 
    RowBox[{"D", "[", 
     RowBox[{"\[Theta]0dotsol", ",", "t"}], "]"}]}], ";"}], 
  "\[IndentingNewLine]", "\[IndentingNewLine]", 
  RowBox[{"(*", " ", 
   RowBox[{
   "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", 
    "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", 
    "##"}], " ", "*)"}], "\[IndentingNewLine]", 
  RowBox[{"(*", " ", 
   RowBox[{
   "Solving", " ", "for", " ", "conditions", " ", "at", " ", "roll", " ", 
    "start"}], " ", "*)"}], "\[IndentingNewLine]", 
  RowBox[{"(*", " ", 
   RowBox[{
   "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", 
    "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", 
    "##"}], " ", "*)"}], "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"tRoll", "=", "0.05"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"tr", "=", 
   RowBox[{"gBallHold", "/.", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{"\[Theta]0", "[", "t", "]"}], "\[Rule]", "\[Theta]0sol"}], 
     "}"}]}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"xAtRoll", "=", 
   RowBox[{
    RowBox[{"tr", "[", 
     RowBox[{"[", 
      RowBox[{"1", ",", "3"}], "]"}], "]"}], "/.", 
    RowBox[{"t", "\[Rule]", "tRoll"}]}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"yAtRoll", "=", 
   RowBox[{
    RowBox[{"tr", "[", 
     RowBox[{"[", 
      RowBox[{"2", ",", "3"}], "]"}], "]"}], "/.", 
    RowBox[{"t", "\[Rule]", "tRoll"}]}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"\[Theta]AtRoll", "=", 
    RowBox[{
     RowBox[{
      RowBox[{"\[Theta]0", "[", "t", "]"}], "/.", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{"\[Theta]0", "[", "t", "]"}], "\[Rule]", "\[Theta]0sol"}], 
       "}"}]}], "/.", 
     RowBox[{"t", "\[Rule]", "tRoll"}]}]}], ";"}], "\[IndentingNewLine]", 
  "\[IndentingNewLine]", 
  RowBox[{"(*", " ", 
   RowBox[{"dot", " ", "sol", " ", "exact"}], " ", 
   "*)"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"\[Theta]dotAtRoll", "=", 
   RowBox[{"\[Theta]0dotsol", "/.", 
    RowBox[{"t", "\[Rule]", "tRoll"}]}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"tdotAtRoll", "=", 
   RowBox[{
    RowBox[{"D", "[", 
     RowBox[{"gBallHold", ",", "t"}], "]"}], "/.", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{
       RowBox[{"\[Theta]0", "[", "t", "]"}], "\[Rule]", "\[Theta]0sol"}], ",", 
      RowBox[{
       RowBox[{
        RowBox[{"\[Theta]0", "'"}], "[", "t", "]"}], "\[Rule]", 
       "\[Theta]0dotsol"}]}], "}"}]}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"xdotAtRoll", "=", 
   RowBox[{
    RowBox[{"tdotAtRoll", "[", 
     RowBox[{"[", 
      RowBox[{"1", ",", "3"}], "]"}], "]"}], "/.", 
    RowBox[{"t", "\[Rule]", "tRoll"}]}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"ydotAtRoll", "=", 
    RowBox[{
     RowBox[{"tdotAtRoll", "[", 
      RowBox[{"[", 
       RowBox[{"2", ",", "3"}], "]"}], "]"}], "/.", 
     RowBox[{"t", "\[Rule]", "tRoll"}]}]}], ";"}], "\[IndentingNewLine]", 
  "\[IndentingNewLine]", 
  RowBox[{"(*", " ", 
   RowBox[{
   "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", 
    "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", 
    "##"}], " ", "*)"}], "\[IndentingNewLine]", 
  RowBox[{"(*", " ", 
   RowBox[{"Plots", " ", "and", " ", "Animation"}], " ", "*)"}], 
  "\[IndentingNewLine]", 
  RowBox[{"(*", " ", 
   RowBox[{
   "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", 
    "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", 
    "##"}], " ", "*)"}], "\[IndentingNewLine]", "\[IndentingNewLine]", 
  RowBox[{"(*", " ", "Plots", " ", "*)"}], "\[IndentingNewLine]", 
  RowBox[{"(*", 
   RowBox[{
    RowBox[{"Plot", "[", 
     RowBox[{"\[Theta]0sol", ",", 
      RowBox[{"{", 
       RowBox[{"t", ",", "0", ",", "tMax"}], "}"}]}], "]"}], 
    "\[IndentingNewLine]", 
    RowBox[{"Plot", "[", 
     RowBox[{"\[Theta]0dotsol", ",", 
      RowBox[{"{", 
       RowBox[{"t", ",", "0", ",", "tMax"}], "}"}]}], "]"}]}], "*)"}], 
  "\[IndentingNewLine]", "\[IndentingNewLine]", 
  RowBox[{"(*", " ", 
   RowBox[{"Mathematica", " ", "Window", " ", "Animation"}], " ", 
   "*)"}]}], "\[IndentingNewLine]", 
 RowBox[{"Animate", "[", "\[IndentingNewLine]", 
  RowBox[{
   RowBox[{"Show", "[", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"Graphics", "[", 
      RowBox[{"{", "\[IndentingNewLine]", 
       RowBox[{
       "Black", ",", "graphicBackboard", ",", "\[IndentingNewLine]", "Black", 
        ",", "graphicLeftRim", ",", "\[IndentingNewLine]", "Black", ",", 
        "graphicRightRim", ",", "\[IndentingNewLine]", "Black", ",", 
        RowBox[{"graphicL1", "/.", 
         RowBox[{"t", "\[Rule]", "time"}]}], ",", "\[IndentingNewLine]", 
        "Black", ",", 
        RowBox[{"graphicBallHold", "/.", 
         RowBox[{"t", "\[Rule]", "time"}]}], ",", "\[IndentingNewLine]", 
        "Black", ",", 
        RowBox[{"graphicLineHold", "/.", 
         RowBox[{"t", "\[Rule]", "time"}]}]}], "\[IndentingNewLine]", "}"}], 
      "]"}], ",", "\[IndentingNewLine]", 
     RowBox[{"PlotRange", "\[Rule]", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{
          RowBox[{"-", "6"}], ",", "2"}], "}"}], ",", 
        RowBox[{"{", 
         RowBox[{
          RowBox[{"-", "1"}], ",", "4"}], "}"}]}], "}"}]}], ",", 
     "\[IndentingNewLine]", 
     RowBox[{"Axes", "\[Rule]", "True"}]}], "\[IndentingNewLine]", 
    RowBox[{"(*", 
     RowBox[{"ImageSize", "\[Rule]", "Full"}], "*)"}], "\[IndentingNewLine]", 
    "]"}], ",", "\[IndentingNewLine]", 
   RowBox[{"{", 
    RowBox[{"time", ",", "0", ",", "tMax"}], "}"}], ",", 
   "\[IndentingNewLine]", 
   RowBox[{"AnimationRunning", "\[Rule]", "False"}], ",", 
   "\[IndentingNewLine]", 
   RowBox[{"AnimationRate", "\[Rule]", "1.0"}]}], "\[IndentingNewLine]", 
  RowBox[{"(*", 
   RowBox[{"ContentSize", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{"1000", ",", "800"}], "}"}]}], "*)"}], "\[IndentingNewLine]", 
  "]"}]}], "Input",
 CellChangeTimes->{{3.717437531930605*^9, 3.717437532153709*^9}, {
   3.7174377037578287`*^9, 3.717437752205757*^9}, {3.7174377841447783`*^9, 
   3.717437794080079*^9}, {3.717437829113398*^9, 3.717437853137779*^9}, {
   3.717437885185769*^9, 3.717437934604331*^9}, {3.717437971511977*^9, 
   3.7174379716996517`*^9}, {3.717438047943061*^9, 3.717438093978633*^9}, {
   3.717438132187449*^9, 3.7174383841310387`*^9}, {3.717438436505582*^9, 
   3.717438501888639*^9}, {3.7174385432837763`*^9, 3.717438624173505*^9}, {
   3.717438781595956*^9, 3.717438968653906*^9}, {3.717439372601985*^9, 
   3.717439372915711*^9}, {3.717450756092458*^9, 3.717450756264145*^9}, {
   3.717450799834753*^9, 3.717450807000141*^9}, 3.717450916085746*^9, {
   3.717451190058865*^9, 3.717451192307811*^9}, {3.717452293790236*^9, 
   3.7174523063638763`*^9}, {3.7177885457578793`*^9, 3.717788637502618*^9}, {
   3.717789088812437*^9, 3.717789105617695*^9}, {3.717802908466563*^9, 
   3.71780291769133*^9}, {3.717803582765428*^9, 3.7178036151843987`*^9}, {
   3.717804975241901*^9, 3.717804977372437*^9}, {3.717879500328302*^9, 
   3.717879501740964*^9}, 3.717879572233831*^9, {3.7178796459997683`*^9, 
   3.717879647711803*^9}, {3.71787970557911*^9, 3.717879708590987*^9}, {
   3.717881425014377*^9, 3.717881583624508*^9}, {3.717881639694968*^9, 
   3.717881686907123*^9}, 3.717882414894092*^9, {3.717889797303031*^9, 
   3.717889797326496*^9}, {3.71794659661362*^9, 3.717946630082267*^9}, {
   3.717947638147861*^9, 3.717947929630978*^9}, {3.717952521699337*^9, 
   3.717952605370885*^9}, {3.717952643736223*^9, 3.717952676658416*^9}, {
   3.717952724238874*^9, 3.717952748454214*^9}, {3.717952946228874*^9, 
   3.717952947181986*^9}, {3.7179529990685883`*^9, 3.717953007465539*^9}, {
   3.717953059025621*^9, 3.717953080361093*^9}, {3.7179531802649918`*^9, 
   3.717953280749544*^9}, {3.717953317150297*^9, 3.71795345961836*^9}, {
   3.717953537635607*^9, 3.71795363750978*^9}, {3.7179536958603086`*^9, 
   3.717953745173443*^9}, {3.717953812358465*^9, 3.7179538669088306`*^9}, {
   3.717953984158884*^9, 3.717954000420251*^9}, {3.717954095366728*^9, 
   3.7179541027907267`*^9}, {3.71795422268148*^9, 3.717954227170423*^9}, {
   3.717954261413822*^9, 3.7179544806402683`*^9}, 3.717954761759231*^9, {
   3.7179548231307917`*^9, 3.7179548245678453`*^9}, 3.7179548651797743`*^9, {
   3.717955093816444*^9, 3.717955097051463*^9}, {3.7179551533599052`*^9, 
   3.717955155048307*^9}, {3.7179552259976482`*^9, 3.717955247880641*^9}, {
   3.7179555895700893`*^9, 3.7179555990844717`*^9}, {3.7179556323562326`*^9, 
   3.7179556473261137`*^9}, {3.717955681361644*^9, 3.7179559035713673`*^9}, {
   3.717956237168676*^9, 3.717956246091125*^9}, {3.71795628043209*^9, 
   3.717956307662953*^9}, {3.717956986906509*^9, 3.717956990290066*^9}, {
   3.7179588830310497`*^9, 3.7179588950374928`*^9}, {3.718031037249898*^9, 
   3.718031037330544*^9}, {3.718031088821537*^9, 3.7180311027833967`*^9}, {
   3.7180311534927073`*^9, 3.718031153817624*^9}, {3.718033464857774*^9, 
   3.718033481061306*^9}, {3.718035665430023*^9, 3.7180357000784903`*^9}, {
   3.718035782629239*^9, 3.7180357853779087`*^9}, {3.7180358334808397`*^9, 
   3.7180358346480627`*^9}, {3.718035943378665*^9, 3.718036198473934*^9}, {
   3.718036286092403*^9, 3.718036312004678*^9}, {3.718036662548759*^9, 
   3.718036679137282*^9}, 3.7183894387097187`*^9, 3.718390003212219*^9, {
   3.718390152250404*^9, 3.7183902503724213`*^9}, {3.718390289760953*^9, 
   3.7183903478244*^9}, {3.7183903820311947`*^9, 3.7183904025062103`*^9}, {
   3.718390489369135*^9, 3.718390563862083*^9}, {3.718390658472616*^9, 
   3.71839065930092*^9}, {3.718390693379056*^9, 3.718390829347321*^9}, {
   3.7183908763736897`*^9, 3.718391004218882*^9}, {3.718391074095274*^9, 
   3.718391110072461*^9}, {3.7183911409916477`*^9, 3.718391141466671*^9}, {
   3.718391175122548*^9, 3.7183913533404093`*^9}, {3.7183913853616047`*^9, 
   3.718391659201345*^9}, {3.718391693242879*^9, 3.718391757386235*^9}, {
   3.718391791822856*^9, 3.718391823886567*^9}, {3.718391961459758*^9, 
   3.7183919962235107`*^9}, {3.718392101997301*^9, 3.718392138500328*^9}, {
   3.718392186568519*^9, 3.718392246881341*^9}, {3.718392279051981*^9, 
   3.718392343391718*^9}, {3.718392377664218*^9, 3.718392402728882*^9}, {
   3.718392447048011*^9, 3.7183925488971853`*^9}, {3.718392594264874*^9, 
   3.718392606049564*^9}, {3.7183926383298483`*^9, 3.718392673432805*^9}, {
   3.71839275626584*^9, 3.7183927564268913`*^9}, {3.718392804868643*^9, 
   3.718392867192876*^9}, {3.718392911910912*^9, 3.718393095156012*^9}, {
   3.7183931283105173`*^9, 3.71839315275314*^9}, {3.718393513015471*^9, 
   3.718393567235022*^9}, {3.718393627217038*^9, 3.7183937086194344`*^9}, {
   3.718393740275481*^9, 3.718393745642044*^9}, {3.718393778024706*^9, 
   3.718393854469405*^9}, {3.718394037379691*^9, 3.71839404968314*^9}, {
   3.718394222999752*^9, 3.718394229078566*^9}, {3.7183944427889843`*^9, 
   3.718394445465083*^9}, {3.718394635782442*^9, 3.718394670986435*^9}, {
   3.7183948031345577`*^9, 3.718394837736162*^9}, {3.718394876472953*^9, 
   3.718394880044547*^9}, {3.718395085088571*^9, 3.7183950859595222`*^9}, {
   3.718460073840876*^9, 3.718460083974669*^9}, {3.718460117732993*^9, 
   3.71846011784006*^9}, {3.718460242385412*^9, 3.718460277088172*^9}, {
   3.7184604800514097`*^9, 3.718460481161525*^9}, {3.718460511324061*^9, 
   3.718460536674197*^9}, {3.718460663285099*^9, 3.7184606634934483`*^9}}],

Cell[BoxData[
 TemplateBox[{
  "ListInterpolation","inhr",
   "\"Requested order is too high; order has been reduced to \
\\!\\(\\*RowBox[{\\\"{\\\", \\\"1\\\", \\\"}\\\"}]\\).\"",2,48,1,
   32650435922085047981,"Local"},
  "MessageTemplate"]], "Message", "MSG",
 CellChangeTimes->{{3.717955922088282*^9, 3.7179559365907507`*^9}, {
   3.717956338868726*^9, 3.717956339081362*^9}, 3.717956936320805*^9, {
   3.717958606942275*^9, 3.717958612694538*^9}, 3.7179588390878983`*^9, {
   3.7179589040509157`*^9, 3.717958937222269*^9}, 3.717964743990601*^9, 
   3.7179648622216587`*^9, 3.7179651177921743`*^9, 3.717965172463533*^9, 
   3.7179652293557034`*^9, {3.717965472219389*^9, 3.7179654757316847`*^9}, 
   3.717965620879665*^9, 3.717965685540509*^9, 3.71796572966924*^9, 
   3.7179658414662952`*^9, {3.7179659312141657`*^9, 3.7179660008072453`*^9}, 
   3.717966037939946*^9, {3.717966111317463*^9, 3.7179661388687677`*^9}, 
   3.717966170912077*^9, {3.71796623963379*^9, 3.7179662690664263`*^9}, 
   3.717966337325523*^9, 3.7179664765365887`*^9, 3.717966575310822*^9, 
   3.7179666231760597`*^9, 3.7179666976422377`*^9, 3.71796732725224*^9, {
   3.717967413765708*^9, 3.717967480686479*^9}, 3.717967578590514*^9, {
   3.718030995948201*^9, 3.7180310010477743`*^9}, 3.718031047134254*^9, 
   3.7180311135808887`*^9, 3.718031162147131*^9, {3.718031633872271*^9, 
   3.71803166115722*^9}, 3.718031709968514*^9, {3.718031762457893*^9, 
   3.718031794917622*^9}, 3.71803287537497*^9, 3.718032948568225*^9, 
   3.718033133079235*^9, {3.718033487605932*^9, 3.718033495842626*^9}, 
   3.718036679731596*^9, 3.7183893676670513`*^9, 3.7183902960709133`*^9, 
   3.718390336221455*^9, 3.718390405125078*^9, {3.7183909866203938`*^9, 
   3.718391005377791*^9}, {3.718391338025578*^9, 3.718391354015068*^9}, {
   3.718391385946007*^9, 3.718391519962591*^9}, {3.718391586293941*^9, 
   3.718391659757856*^9}, 3.718391699769575*^9, 3.7183917579521637`*^9, {
   3.718391795937422*^9, 3.7183918247127123`*^9}, 3.718391975145441*^9, 
   3.718392104377697*^9, 3.71839214097261*^9, {3.718392187324747*^9, 
   3.718392247823172*^9}, {3.7183922830064583`*^9, 3.718392312726141*^9}, 
   3.718392344392393*^9, 3.718392378539904*^9, {3.718392418009638*^9, 
   3.718392504137011*^9}, {3.718392565228715*^9, 3.718392572965457*^9}, 
   3.718392606390566*^9, {3.7183926390308857`*^9, 3.718392673843979*^9}, 
   3.718392757939302*^9, 3.718392814538747*^9, {3.7183929421008453`*^9, 
   3.718392956401038*^9}, {3.718393066164729*^9, 3.718393095592429*^9}, {
   3.718393133961293*^9, 3.718393153277185*^9}, 3.718393592954859*^9, {
   3.7183937179020863`*^9, 3.718393746291378*^9}, {3.718393780130845*^9, 
   3.71839383239616*^9}, 3.718393869687695*^9, 3.718393911352335*^9, 
   3.71839394887823*^9, 3.718393982314946*^9, {3.7183940266221857`*^9, 
   3.7183940727016497`*^9}, {3.718394157946062*^9, 3.718394196759963*^9}, 
   3.718394239316938*^9, 3.718394306059903*^9, 3.718394466775126*^9, 
   3.718394576062419*^9, 3.71839484585541*^9, {3.718394886004808*^9, 
   3.718394913148773*^9}, 3.718394953377592*^9, 3.7183950238675823`*^9, {
   3.7183950869216623`*^9, 3.718395095684627*^9}, 3.71839524786924*^9, 
   3.718459954245719*^9, {3.718460119495956*^9, 3.7184601253924103`*^9}, {
   3.718460162633606*^9, 3.718460172761902*^9}, 3.718460257669052*^9, 
   3.71846048555227*^9, 3.718460545305585*^9, 3.718460579250927*^9, 
   3.7184606139127398`*^9, 3.7184606707182837`*^9, 3.71846078711511*^9, 
   3.718461039495371*^9}],

Cell[BoxData[
 TagBox[
  StyleBox[
   DynamicModuleBox[{$CellContext`time$$ = 0, Typeset`show$$ = True, 
    Typeset`bookmarkList$$ = {}, Typeset`bookmarkMode$$ = "Menu", 
    Typeset`animator$$, Typeset`animvar$$ = 1, Typeset`name$$ = 
    "\"untitled\"", Typeset`specs$$ = {{
      Hold[$CellContext`time$$], 0, 3}}, Typeset`size$$ = {
    360., {114., 119.}}, Typeset`update$$ = 0, Typeset`initDone$$, 
    Typeset`skipInitDone$$ = True, $CellContext`time$385$$ = 0}, 
    DynamicBox[Manipulate`ManipulateBoxes[
     1, StandardForm, "Variables" :> {$CellContext`time$$ = 0}, 
      "ControllerVariables" :> {
        Hold[$CellContext`time$$, $CellContext`time$385$$, 0]}, 
      "OtherVariables" :> {
       Typeset`show$$, Typeset`bookmarkList$$, Typeset`bookmarkMode$$, 
        Typeset`animator$$, Typeset`animvar$$, Typeset`name$$, 
        Typeset`specs$$, Typeset`size$$, Typeset`update$$, Typeset`initDone$$,
         Typeset`skipInitDone$$}, "Body" :> Show[
        Graphics[{
         Black, $CellContext`graphicBackboard, 
          Black, $CellContext`graphicLeftRim, 
          Black, $CellContext`graphicRightRim, Black, 
          
          ReplaceAll[$CellContext`graphicL1, $CellContext`t -> \
$CellContext`time$$], Black, 
          
          ReplaceAll[$CellContext`graphicBallHold, $CellContext`t -> \
$CellContext`time$$], Black, 
          
          ReplaceAll[$CellContext`graphicLineHold, $CellContext`t -> \
$CellContext`time$$]}], PlotRange -> {{-6, 2}, {-1, 4}}, Axes -> True], 
      "Specifications" :> {{$CellContext`time$$, 0, 3, AnimationRunning -> 
         False, AnimationRate -> 1., 
         AppearanceElements -> {
          "ProgressSlider", "PlayPauseButton", "FasterSlowerButtons", 
           "DirectionButton"}}}, 
      "Options" :> {
       ControlType -> Animator, AppearanceElements -> None, DefaultBaseStyle -> 
        "Animate", DefaultLabelStyle -> "AnimateLabel", SynchronousUpdating -> 
        True, ShrinkingDelay -> 10.}, "DefaultOptions" :> {}],
     ImageSizeCache->{405., {151., 157.}},
     SingleEvaluation->True],
    Deinitialization:>None,
    DynamicModuleValues:>{},
    SynchronousInitialization->True,
    UndoTrackedVariables:>{Typeset`show$$, Typeset`bookmarkMode$$},
    UnsavedVariables:>{Typeset`initDone$$},
    UntrackedVariables:>{Typeset`size$$}], "Animate",
   Deployed->True,
   StripOnInput->False],
  Manipulate`InterpretManipulate[1]]], "Output",
 CellChangeTimes->{3.718460172883263*^9, 3.7184602576446943`*^9, 
  3.718460485662792*^9, 3.7184605454276247`*^9, 3.718460579372538*^9, 
  3.718460614038872*^9, 3.7184606708417273`*^9, 3.718460787234372*^9, 
  3.718461039616309*^9}]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Phase 2 (roll -> release)", "Section",
 CellChangeTimes->{{3.717439250942604*^9, 3.717439258256278*^9}, {
  3.71743959594876*^9, 3.717439604661821*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", " ", 
   RowBox[{
   "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", 
    "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", 
    "##"}], " ", "*)"}], "\[IndentingNewLine]", 
  RowBox[{"(*", " ", "State", " ", "*)"}], "\[IndentingNewLine]", 
  RowBox[{"(*", " ", 
   RowBox[{
   "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", 
    "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", 
    "##"}], " ", "*)"}], "\[IndentingNewLine]", "\[IndentingNewLine]", 
  RowBox[{"(*", " ", 
   RowBox[{"Configuration", " ", "Variables"}], " ", "*)"}], 
  "\[IndentingNewLine]", 
  RowBox[{"(*", 
   RowBox[{
    RowBox[{"q", "=", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{"x", "[", "t", "]"}], ",", 
         RowBox[{"y", "[", "t", "]"}], ",", 
         RowBox[{"\[Theta]", "[", "t", "]"}]}], "}"}], "}"}], 
      "\[Transpose]"}]}], ";", "\[IndentingNewLine]", 
    RowBox[{"dq", "=", 
     RowBox[{"D", "[", 
      RowBox[{"q", ",", "t"}], "]"}]}], ";", "\[IndentingNewLine]", 
    RowBox[{"ddq", "=", 
     RowBox[{"D", "[", 
      RowBox[{"dq", ",", "t"}], "]"}]}], ";"}], "*)"}], "\[IndentingNewLine]",
   "\[IndentingNewLine]", 
  RowBox[{"(*", " ", 
   RowBox[{
   "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", 
    "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", 
    "##"}], " ", "*)"}], "\[IndentingNewLine]", 
  RowBox[{"(*", " ", 
   RowBox[{"Lagrangian", " ", "using", " ", "body", " ", "velocities", " ", 
    RowBox[{"(", 
     RowBox[{"see", " ", "lecture", " ", "23"}], ")"}]}], " ", "*)"}], 
  "\[IndentingNewLine]", 
  RowBox[{"(*", " ", 
   RowBox[{
   "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", 
    "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", 
    "##"}], " ", "*)"}], "\[IndentingNewLine]", "\[IndentingNewLine]", 
  RowBox[{
   RowBox[{
    RowBox[{"Vball", "=", 
     RowBox[{"unhat", "[", 
      RowBox[{
       RowBox[{"Inverse", "[", "gBallRoll", "]"}], ".", 
       RowBox[{"D", "[", 
        RowBox[{"gBallRoll", ",", "t"}], "]"}]}], "]"}]}], ";"}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"Iball", "=", 
     RowBox[{"DiagonalMatrix", "[", 
      RowBox[{"{", 
       RowBox[{"m", ",", "m", ",", "J"}], "}"}], "]"}]}], ";"}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"J", "=", 
     RowBox[{"m", "*", 
      RowBox[{"rBall", "^", "2"}]}]}], ";"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"KE", "=", 
     RowBox[{
      RowBox[{"1", "/", "2"}], "*", 
      RowBox[{
       RowBox[{"(", 
        RowBox[{"Vball", ".", "Iball"}], ")"}], ".", 
       RowBox[{
        RowBox[{"{", "Vball", "}"}], "\[Transpose]"}]}]}]}], ";"}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"PE", "=", 
     RowBox[{"m", "*", "grav", "*", 
      RowBox[{"y", "[", "t", "]"}]}]}], ";"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"Lag", " ", "=", 
     RowBox[{"KE", "-", "PE"}]}], ";"}], "\[IndentingNewLine]", 
   "\[IndentingNewLine]", 
   RowBox[{"(*", " ", 
    RowBox[{
    "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", 
     "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", 
     "##"}], " ", "*)"}], "\[IndentingNewLine]", 
   RowBox[{"(*", " ", 
    RowBox[{"Constraints", " ", "and", " ", "External", " ", "forces"}], " ", 
    "*)"}], "\[IndentingNewLine]", 
   RowBox[{"(*", " ", 
    RowBox[{
    "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", 
     "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", 
     "##"}], " ", "*)"}], "\[IndentingNewLine]", "\[IndentingNewLine]", 
   RowBox[{"(*", " ", 
    RowBox[{"Point", " ", "of", " ", "contact"}], " ", "*)"}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"mhand", "=", 
     RowBox[{
      RowBox[{"(", 
       RowBox[{
        RowBox[{"g2", "[", 
         RowBox[{"[", 
          RowBox[{"2", ",", "3"}], "]"}], "]"}], "-", 
        RowBox[{"g0", "[", 
         RowBox[{"[", 
          RowBox[{"2", ",", "3"}], "]"}], "]"}]}], ")"}], "/", 
      RowBox[{"(", 
       RowBox[{
        RowBox[{"g2", "[", 
         RowBox[{"[", 
          RowBox[{"1", ",", "3"}], "]"}], "]"}], "-", 
        RowBox[{"g0", "[", 
         RowBox[{"[", 
          RowBox[{"1", ",", "3"}], "]"}], "]"}]}], ")"}]}]}], ";"}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"Eqhand", "=", 
     RowBox[{
      RowBox[{"contacty", "-", 
       RowBox[{"g2", "[", 
        RowBox[{"[", 
         RowBox[{"2", ",", "3"}], "]"}], "]"}]}], "\[Equal]", 
      RowBox[{"mhand", "*", 
       RowBox[{"(", 
        RowBox[{"contactx", "-", 
         RowBox[{"g2", "[", 
          RowBox[{"[", 
           RowBox[{"1", ",", "3"}], "]"}], "]"}]}], ")"}]}]}]}], ";"}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"Eqprojection", "=", 
     RowBox[{
      RowBox[{"contacty", "-", 
       RowBox[{"gBallRoll", "[", 
        RowBox[{"[", 
         RowBox[{"2", ",", "3"}], "]"}], "]"}]}], "\[Equal]", 
      RowBox[{
       RowBox[{
        RowBox[{"-", "1"}], "/", "mhand"}], "*", 
       RowBox[{"(", 
        RowBox[{"contactx", "-", 
         RowBox[{"gBallRoll", "[", 
          RowBox[{"[", 
           RowBox[{"1", ",", "3"}], "]"}], "]"}]}], ")"}]}]}]}], ";"}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"contacttemp", "=", 
     RowBox[{"Solve", "[", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"Eqhand", "&&", "Eqprojection"}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{"contactx", ",", "contacty"}], "}"}]}], "]"}]}], ";"}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"contactx", "=", 
     RowBox[{"contacttemp", "[", 
      RowBox[{"[", 
       RowBox[{"1", ",", "1", ",", "2"}], "]"}], "]"}]}], ";"}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"contacty", "=", 
     RowBox[{"contacttemp", "[", 
      RowBox[{"[", 
       RowBox[{"1", ",", "2", ",", "2"}], "]"}], "]"}]}], ";"}], 
   "\[IndentingNewLine]", "\[IndentingNewLine]", 
   RowBox[{"(*", " ", "Constraints", " ", "*)"}], "\[IndentingNewLine]", 
   RowBox[{"(*", " ", 
    RowBox[{
    "Ball", " ", "remains", " ", "in", " ", "contact", " ", "with", " ", 
     "last", " ", "link"}], " ", "*)"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"\[Phi]a", "=", 
     RowBox[{
      RowBox[{"gHandBall", "[", 
       RowBox[{"[", 
        RowBox[{"2", ",", "3"}], "]"}], "]"}], "+", "rBall"}]}], ";"}], 
   "\[IndentingNewLine]", "\[IndentingNewLine]", 
   RowBox[{"(*", " ", 
    RowBox[{
     RowBox[{
     "Ball", " ", "rolls", " ", "without", " ", "slipping", " ", "where", " ",
       "x"}], "=", 
     RowBox[{"rBall", "*", "\[Theta]"}]}], " ", "*)"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"\[Phi]b", "=", 
     RowBox[{"xHandBall", "+", 
      RowBox[{"rBall", "*", "\[Theta]HandBall"}]}]}], ";"}], 
   "\[IndentingNewLine]", "\[IndentingNewLine]", 
   RowBox[{"(*", " ", 
    RowBox[{"gotta", " ", "do", " ", "this"}], " ", "*)"}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{
     RowBox[{"\[Theta]0", "[", "t", "]"}], "=", "\[Theta]0sol"}], ";"}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{
     RowBox[{
      RowBox[{"\[Theta]0", "'"}], "[", "t", "]"}], "=", "\[Theta]0dotsol"}], 
    ";"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{
     RowBox[{
      RowBox[{"\[Theta]0", "''"}], "[", "t", "]"}], "=", 
     "\[Theta]0dotdotsol"}], ";"}], "\[IndentingNewLine]", 
   "\[IndentingNewLine]", 
   RowBox[{"(*", " ", 
    RowBox[{
    "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", 
     "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", 
     "##"}], " ", "*)"}], "\[IndentingNewLine]", 
   RowBox[{"(*", " ", 
    RowBox[{"Euler", "-", 
     RowBox[{"Lagrange", " ", "equations", " ", "VECTORS"}]}], " ", "*)"}], 
   "\[IndentingNewLine]", 
   RowBox[{"(*", " ", 
    RowBox[{
    "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", 
     "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", 
     "##"}], " ", "*)"}], "\[IndentingNewLine]", "\[IndentingNewLine]", 
   RowBox[{"(*", " ", 
    RowBox[{"Using", " ", "BOTH", " ", "Constraints"}], " ", "*)"}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"Eq1", "=", 
     RowBox[{
      RowBox[{
       RowBox[{"D", "[", 
        RowBox[{
         RowBox[{"D", "[", 
          RowBox[{"Lag", ",", 
           RowBox[{
            RowBox[{"x", "'"}], "[", "t", "]"}]}], "]"}], ",", "t"}], "]"}], 
       "-", 
       RowBox[{"D", "[", 
        RowBox[{"Lag", ",", 
         RowBox[{"x", "[", "t", "]"}]}], "]"}]}], "\[Equal]", 
      RowBox[{
       RowBox[{"\[Lambda]a", "*", 
        RowBox[{"D", "[", 
         RowBox[{"\[Phi]a", ",", 
          RowBox[{"x", "[", "t", "]"}]}], "]"}]}], "+", 
       RowBox[{"\[Lambda]b", "*", 
        RowBox[{"D", "[", 
         RowBox[{"\[Phi]b", ",", 
          RowBox[{"x", "[", "t", "]"}]}], "]"}]}]}]}]}], ";"}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"Eq2", "=", 
     RowBox[{
      RowBox[{
       RowBox[{"D", "[", 
        RowBox[{
         RowBox[{"D", "[", 
          RowBox[{"Lag", ",", 
           RowBox[{
            RowBox[{"y", "'"}], "[", "t", "]"}]}], "]"}], ",", "t"}], "]"}], 
       "-", 
       RowBox[{"D", "[", 
        RowBox[{"Lag", ",", 
         RowBox[{"y", "[", "t", "]"}]}], "]"}]}], "\[Equal]", 
      RowBox[{
       RowBox[{"\[Lambda]a", "*", 
        RowBox[{"D", "[", 
         RowBox[{"\[Phi]a", ",", 
          RowBox[{"y", "[", "t", "]"}]}], "]"}]}], "+", 
       RowBox[{"\[Lambda]b", "*", 
        RowBox[{"D", "[", 
         RowBox[{"\[Phi]b", ",", 
          RowBox[{"y", "[", "t", "]"}]}], "]"}]}]}]}]}], ";"}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"Eq3", "=", 
     RowBox[{
      RowBox[{
       RowBox[{"D", "[", 
        RowBox[{
         RowBox[{"D", "[", 
          RowBox[{"Lag", ",", 
           RowBox[{
            RowBox[{"\[Theta]", "'"}], "[", "t", "]"}]}], "]"}], ",", "t"}], 
        "]"}], "-", 
       RowBox[{"D", "[", 
        RowBox[{"Lag", ",", 
         RowBox[{"\[Theta]", "[", "t", "]"}]}], "]"}]}], "\[Equal]", 
      RowBox[{
       RowBox[{"\[Lambda]a", "*", 
        RowBox[{"D", "[", 
         RowBox[{"\[Phi]a", ",", 
          RowBox[{"\[Theta]", "[", "t", "]"}]}], "]"}]}], "+", 
       RowBox[{"\[Lambda]b", "*", 
        RowBox[{"D", "[", 
         RowBox[{"\[Phi]b", ",", 
          RowBox[{"\[Theta]", "[", "t", "]"}]}], "]"}]}]}]}]}], ";"}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"Eq4", "=", 
     RowBox[{
      RowBox[{"D", "[", 
       RowBox[{
        RowBox[{"D", "[", 
         RowBox[{"\[Phi]a", ",", "t"}], "]"}], ",", "t"}], "]"}], "\[Equal]", 
      "0"}]}], ";"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"Eq5", "=", 
     RowBox[{
      RowBox[{"D", "[", 
       RowBox[{
        RowBox[{"D", "[", 
         RowBox[{"\[Phi]b", ",", "t"}], "]"}], ",", "t"}], "]"}], "\[Equal]", 
      "0"}]}], ";"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"ELtemp", "=", 
     RowBox[{"Solve", "[", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"Eq1", "&&", "Eq2", "&&", "Eq3", "&&", "Eq4", "&&", "Eq5"}], 
        "}"}], ",", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{
          RowBox[{"x", "''"}], "[", "t", "]"}], ",", 
         RowBox[{
          RowBox[{"y", "''"}], "[", "t", "]"}], ",", 
         RowBox[{
          RowBox[{"\[Theta]", "''"}], "[", "t", "]"}], ",", "\[Lambda]a", ",",
          "\[Lambda]b"}], "}"}]}], "]"}]}], ";"}], "\[IndentingNewLine]", 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"EL", "=", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{
        RowBox[{
         RowBox[{"x", "''"}], "[", "t", "]"}], "\[Equal]", 
        RowBox[{"ELtemp", "[", 
         RowBox[{"[", 
          RowBox[{"1", ",", "1", ",", "2"}], "]"}], "]"}]}], ",", 
       RowBox[{
        RowBox[{
         RowBox[{"y", "''"}], "[", "t", "]"}], "\[Equal]", 
        RowBox[{"ELtemp", "[", 
         RowBox[{"[", 
          RowBox[{"1", ",", "2", ",", "2"}], "]"}], "]"}]}], ",", 
       RowBox[{
        RowBox[{
         RowBox[{"\[Theta]", "''"}], "[", "t", "]"}], "\[Equal]", 
        RowBox[{"ELtemp", "[", 
         RowBox[{"[", 
          RowBox[{"1", ",", "3", ",", "2"}], "]"}], "]"}]}]}], "}"}]}], ";"}],
    "\[IndentingNewLine]", "\[IndentingNewLine]", 
   RowBox[{"(*", " ", 
    RowBox[{
    "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", 
     "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", 
     "##"}], " ", "*)"}], "\[IndentingNewLine]", 
   RowBox[{"(*", " ", 
    RowBox[{"Numerical", " ", "Solutions"}], " ", "*)"}], 
   "\[IndentingNewLine]", 
   RowBox[{"(*", " ", 
    RowBox[{
    "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", 
     "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", 
     "##"}], " ", "*)"}], "\[IndentingNewLine]", "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"InitCon", "=", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{
        RowBox[{"x", "[", "tRoll", "]"}], "\[Equal]", "xAtRoll"}], ",", 
       RowBox[{
        RowBox[{"y", "[", "tRoll", "]"}], "\[Equal]", "yAtRoll"}], ",", 
       RowBox[{
        RowBox[{"\[Theta]", "[", "tRoll", "]"}], "\[Equal]", 
        "\[Theta]AtRoll"}], ",", 
       RowBox[{
        RowBox[{
         RowBox[{"x", "'"}], "[", "tRoll", "]"}], "\[Equal]", "xdotAtRoll"}], 
       ",", 
       RowBox[{
        RowBox[{
         RowBox[{"y", "'"}], "[", "tRoll", "]"}], "\[Equal]", "ydotAtRoll"}], 
       ",", 
       RowBox[{
        RowBox[{
         RowBox[{"\[Theta]", "'"}], "[", "tRoll", "]"}], "\[Equal]", 
        "\[Theta]dotAtRoll"}]}], "}"}]}], ";"}], "\[IndentingNewLine]", 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"J0", "=", 
     RowBox[{"\[Theta]0sol", "/.", 
      RowBox[{"t", "\[Rule]", "time"}]}]}], ";"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"tRelease", "=", "0"}], ";"}], "\[IndentingNewLine]", 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"sol", "=", 
     RowBox[{"NDSolve", "[", 
      RowBox[{
       RowBox[{"Join", "[", 
        RowBox[{"EL", ",", "InitCon", ",", "\[IndentingNewLine]", 
         RowBox[{"(*", " ", 
          RowBox[{"determine", " ", "time", " ", "of", " ", "release"}], " ", 
          "*)"}], "\[IndentingNewLine]", 
         RowBox[{"{", 
          RowBox[{"WhenEvent", "[", 
           RowBox[{
            RowBox[{
             RowBox[{
              RowBox[{"rBall", "*", 
               RowBox[{"(", 
                RowBox[{
                 RowBox[{
                  RowBox[{"\[Theta]", "[", "t", "]"}], "-", "J0"}], "/.", 
                 RowBox[{"time", "\[Rule]", "t"}]}], ")"}]}], "<", 
              RowBox[{
               RowBox[{"-", "L1"}], "/", "2"}]}], "||", 
             RowBox[{
              RowBox[{"rBall", "*", 
               RowBox[{"(", 
                RowBox[{
                 RowBox[{
                  RowBox[{"\[Theta]", "[", "t", "]"}], "-", "J0"}], "/.", 
                 RowBox[{"time", "\[Rule]", "t"}]}], ")"}]}], ">", 
              RowBox[{
               RowBox[{"+", "L1"}], "/", "2"}]}]}], ",", " ", 
            RowBox[{"(*", " ", 
             RowBox[{
             "testing", " ", "both", " ", "tips", " ", "and", " ", "wrist", 
              " ", "fall"}], " ", "*)"}], "\[IndentingNewLine]", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"Print", "[", "\"\<Let it fly!\>\"", "]"}], ",", 
              RowBox[{"tRelease", "=", "t"}], ",", 
              RowBox[{"Print", "[", "tRelease", "]"}], ",", 
              "\"\<StopIntegration\>\""}], "}"}], ",", "\[IndentingNewLine]", 
            
            RowBox[{"\"\<DetectionMethod\>\"", "\[Rule]", "\"\<Sign\>\""}]}], 
           "]"}], "}"}]}], "\[IndentingNewLine]", "\[IndentingNewLine]", 
        "]"}], ",", 
       RowBox[{"{", 
        RowBox[{"x", ",", "y", ",", "\[Theta]"}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{"t", ",", "tRoll", ",", "tMax"}], "}"}], ",", 
       "\[IndentingNewLine]", 
       RowBox[{"Method", "\[Rule]", 
        RowBox[{"{", 
         RowBox[{"\"\<ExplicitRungeKutta\>\"", ",", 
          RowBox[{"\"\<DifferenceOrder\>\"", "\[Rule]", "4"}]}], "}"}]}]}], 
      "]"}]}], ";"}], "\[IndentingNewLine]", "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"xsolRoll", "=", 
     RowBox[{"First", "[", 
      RowBox[{
       RowBox[{"x", "[", "t", "]"}], "/.", "sol"}], "]"}]}], ";"}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"ysolRoll", "=", 
     RowBox[{"First", "[", 
      RowBox[{
       RowBox[{"y", "[", "t", "]"}], "/.", "sol"}], "]"}]}], ";"}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"\[Theta]solRoll", "=", 
     RowBox[{"First", "[", 
      RowBox[{
       RowBox[{"\[Theta]", "[", "t", "]"}], "/.", "sol"}], "]"}]}], ";"}], 
   "\[IndentingNewLine]", "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"xAtRelease", "=", 
     RowBox[{"xsolRoll", "/.", 
      RowBox[{"t", "\[Rule]", "tRelease"}]}]}], ";"}], "\[IndentingNewLine]", 
   
   RowBox[{
    RowBox[{"yAtRelease", "=", 
     RowBox[{"ysolRoll", "/.", 
      RowBox[{"t", "\[Rule]", "tRelease"}]}]}], ";"}], "\[IndentingNewLine]", 
   
   RowBox[{
    RowBox[{"\[Theta]AtRelease", "=", 
     RowBox[{"\[Theta]solRoll", "/.", 
      RowBox[{"t", "\[Rule]", "tRelease"}]}]}], ";"}], "\[IndentingNewLine]", 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"xdotAtRelease", "=", 
     RowBox[{
      RowBox[{"D", "[", 
       RowBox[{"xsolRoll", ",", "t"}], "]"}], "/.", 
      RowBox[{"t", "\[Rule]", "tRelease"}]}]}], ";"}], "\[IndentingNewLine]", 
   
   RowBox[{
    RowBox[{"ydotAtRelease", "=", 
     RowBox[{
      RowBox[{"D", "[", 
       RowBox[{"ysolRoll", ",", "t"}], "]"}], "/.", 
      RowBox[{"t", "\[Rule]", "tRelease"}]}]}], ";"}], "\[IndentingNewLine]", 
   
   RowBox[{
    RowBox[{"\[Theta]dotAtRelease", "=", 
     RowBox[{
      RowBox[{"D", "[", 
       RowBox[{"\[Theta]solRoll", ",", "t"}], "]"}], "/.", 
      RowBox[{"t", "\[Rule]", "tRelease"}]}]}], ";"}], "\[IndentingNewLine]", 
   "\[IndentingNewLine]", 
   RowBox[{"(*", " ", 
    RowBox[{
    "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", 
     "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", 
     "##"}], " ", "*)"}], "\[IndentingNewLine]", 
   RowBox[{"(*", " ", 
    RowBox[{"Coordinates", " ", "and", " ", "Graphics", " ", "Primatives"}], 
    " ", "*)"}], "\[IndentingNewLine]", 
   RowBox[{"(*", " ", 
    RowBox[{
    "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", 
     "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", 
     "##"}], " ", "*)"}], "\[IndentingNewLine]", "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{
     RowBox[{"coordBallRoll", "[", "time_", "]"}], ":=", 
     RowBox[{
      RowBox[{"(", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{
          RowBox[{"gBallRoll", "[", 
           RowBox[{"[", 
            RowBox[{"1", ",", "3"}], "]"}], "]"}], ",", 
          RowBox[{"gBallRoll", "[", 
           RowBox[{"[", 
            RowBox[{"2", ",", "3"}], "]"}], "]"}]}], "}"}], "/.", 
        RowBox[{"{", 
         RowBox[{
          RowBox[{
           RowBox[{"\[Theta]0", "[", "t", "]"}], "\[Rule]", "\[Theta]0sol"}], 
          ",", 
          RowBox[{
           RowBox[{"x", "[", "t", "]"}], "\[Rule]", "xsolRoll"}], ",", 
          RowBox[{
           RowBox[{"y", "[", "t", "]"}], "\[Rule]", "ysolRoll"}], ",", 
          RowBox[{
           RowBox[{"\[Theta]", "[", "t", "]"}], "\[Rule]", 
           "\[Theta]solRoll"}]}], "}"}]}], ")"}], "/.", 
      RowBox[{"t", "\[Rule]", "time"}]}]}], ";"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{
     RowBox[{"coordLine1Roll", "[", "time_", "]"}], ":=", 
     RowBox[{
      RowBox[{"(", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{
          RowBox[{"gPoint1Roll", "[", 
           RowBox[{"[", 
            RowBox[{"1", ",", "3"}], "]"}], "]"}], ",", 
          RowBox[{"gPoint1Roll", "[", 
           RowBox[{"[", 
            RowBox[{"2", ",", "3"}], "]"}], "]"}]}], "}"}], "/.", 
        RowBox[{"{", 
         RowBox[{
          RowBox[{
           RowBox[{"\[Theta]0", "[", "t", "]"}], "\[Rule]", "\[Theta]0sol"}], 
          ",", 
          RowBox[{
           RowBox[{"x", "[", "t", "]"}], "\[Rule]", "xsolRoll"}], ",", 
          RowBox[{
           RowBox[{"y", "[", "t", "]"}], "\[Rule]", "ysolRoll"}], ",", 
          RowBox[{
           RowBox[{"\[Theta]", "[", "t", "]"}], "\[Rule]", 
           "\[Theta]solRoll"}]}], "}"}]}], ")"}], "/.", 
      RowBox[{"t", "\[Rule]", "time"}]}]}], ";"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{
     RowBox[{"coordLine2Roll", "[", "time_", "]"}], ":=", 
     RowBox[{
      RowBox[{"(", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{
          RowBox[{"gPoint2Roll", "[", 
           RowBox[{"[", 
            RowBox[{"1", ",", "3"}], "]"}], "]"}], ",", 
          RowBox[{"gPoint2Roll", "[", 
           RowBox[{"[", 
            RowBox[{"2", ",", "3"}], "]"}], "]"}]}], "}"}], "/.", 
        RowBox[{"{", 
         RowBox[{
          RowBox[{
           RowBox[{"\[Theta]0", "[", "t", "]"}], "\[Rule]", "\[Theta]0sol"}], 
          ",", 
          RowBox[{
           RowBox[{"x", "[", "t", "]"}], "\[Rule]", "xsolRoll"}], ",", 
          RowBox[{
           RowBox[{"y", "[", "t", "]"}], "\[Rule]", "ysolRoll"}], ",", 
          RowBox[{
           RowBox[{"\[Theta]", "[", "t", "]"}], "\[Rule]", 
           "\[Theta]solRoll"}]}], "}"}]}], ")"}], "/.", 
      RowBox[{"t", "\[Rule]", "time"}]}]}], ";"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{
     RowBox[{"coordcontact", "[", "time_", "]"}], ":=", 
     RowBox[{
      RowBox[{"(", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{"contactx", ",", "contacty"}], "}"}], "/.", 
        RowBox[{"{", 
         RowBox[{
          RowBox[{
           RowBox[{"\[Theta]0", "[", "t", "]"}], "\[Rule]", "\[Theta]0sol"}], 
          ",", 
          RowBox[{
           RowBox[{"x", "[", "t", "]"}], "\[Rule]", "xsolRoll"}], ",", 
          RowBox[{
           RowBox[{"y", "[", "t", "]"}], "\[Rule]", "ysolRoll"}], ",", 
          RowBox[{
           RowBox[{"\[Theta]", "[", "t", "]"}], "\[Rule]", 
           "\[Theta]solRoll"}]}], "}"}]}], ")"}], "/.", 
      RowBox[{"t", "\[Rule]", "time"}]}]}], ";"}], "\[IndentingNewLine]", 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"graphicBallRoll", "=", 
     RowBox[{"Circle", "[", 
      RowBox[{
       RowBox[{"coordBallRoll", "[", "t", "]"}], ",", "rBall"}], "]"}]}], 
    ";"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"graphicLineRoll", "=", 
     RowBox[{"Line", "[", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{"coordLine1Roll", "[", "t", "]"}], ",", 
        RowBox[{"coordLine2Roll", "[", "t", "]"}]}], "}"}], "]"}]}], ";"}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"graphicContact", "=", 
     RowBox[{"Locator", "[", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{
         RowBox[{
          RowBox[{"coordcontact", "[", "t", "]"}], "[", 
          RowBox[{"[", "1", "]"}], "]"}], "[", 
         RowBox[{"[", "1", "]"}], "]"}], ",", 
        RowBox[{
         RowBox[{
          RowBox[{"coordcontact", "[", "t", "]"}], "[", 
          RowBox[{"[", "2", "]"}], "]"}], "[", 
         RowBox[{"[", "1", "]"}], "]"}]}], "}"}], "]"}]}], ";"}], 
   "\[IndentingNewLine]", "\[IndentingNewLine]", 
   RowBox[{"(*", " ", 
    RowBox[{
    "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", 
     "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", 
     "##"}], " ", "*)"}], "\[IndentingNewLine]", 
   RowBox[{"(*", " ", 
    RowBox[{"PLOTS", " ", "AND", " ", "ANIMATION"}], " ", "*)"}], 
   "\[IndentingNewLine]", 
   RowBox[{"(*", " ", 
    RowBox[{
    "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", 
     "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", 
     "##"}], " ", "*)"}], "\[IndentingNewLine]", "\[IndentingNewLine]", 
   RowBox[{"(*", 
    RowBox[{
     RowBox[{"Plot", "[", 
      RowBox[{
       RowBox[{"\[Phi]a", "/.", 
        RowBox[{"{", 
         RowBox[{
          RowBox[{
           RowBox[{"\[Theta]0", "[", "t", "]"}], "\[Rule]", "\[Theta]0sol"}], 
          ",", 
          RowBox[{
           RowBox[{"x", "[", "t", "]"}], "\[Rule]", "xsolRoll"}], ",", 
          RowBox[{
           RowBox[{"y", "[", "t", "]"}], "\[Rule]", "ysolRoll"}], ",", 
          RowBox[{
           RowBox[{"\[Theta]", "[", "t", "]"}], "\[Rule]", 
           "\[Theta]solRoll"}]}], "}"}]}], ",", 
       RowBox[{"{", 
        RowBox[{"t", ",", "tRoll", ",", "tMax"}], "}"}], ",", 
       RowBox[{"PlotLabel", "\[Rule]", "\"\<\[Phi]a constraint\>\""}]}], 
      "]"}], "\[IndentingNewLine]", 
     RowBox[{"Plot", "[", 
      RowBox[{
       RowBox[{"\[Phi]b", "/.", 
        RowBox[{"{", 
         RowBox[{
          RowBox[{
           RowBox[{"\[Theta]0", "[", "t", "]"}], "\[Rule]", "\[Theta]0sol"}], 
          ",", 
          RowBox[{
           RowBox[{"x", "[", "t", "]"}], "\[Rule]", "xsolRoll"}], ",", 
          RowBox[{
           RowBox[{"y", "[", "t", "]"}], "\[Rule]", "ysolRoll"}], ",", 
          RowBox[{
           RowBox[{"\[Theta]", "[", "t", "]"}], "\[Rule]", 
           "\[Theta]solRoll"}]}], "}"}]}], ",", 
       RowBox[{"{", 
        RowBox[{"t", ",", "tRoll", ",", "tMax"}], "}"}], ",", 
       RowBox[{"PlotLabel", "\[Rule]", "\"\<\[Phi]b constraint\>\""}]}], 
      "]"}], "\[IndentingNewLine]", 
     RowBox[{"Plot", "[", 
      RowBox[{
       RowBox[{
        RowBox[{"(", "xHandBall", ")"}], "/.", 
        RowBox[{"{", 
         RowBox[{
          RowBox[{
           RowBox[{"\[Theta]0", "[", "t", "]"}], "\[Rule]", "\[Theta]0sol"}], 
          ",", 
          RowBox[{
           RowBox[{"x", "[", "t", "]"}], "\[Rule]", "xsolRoll"}], ",", 
          RowBox[{
           RowBox[{"y", "[", "t", "]"}], "\[Rule]", "ysolRoll"}], ",", 
          RowBox[{
           RowBox[{"\[Theta]", "[", "t", "]"}], "\[Rule]", 
           "\[Theta]solRoll"}]}], "}"}]}], ",", 
       RowBox[{"{", 
        RowBox[{"t", ",", "tRoll", ",", "tMax"}], "}"}], ",", 
       RowBox[{"PlotLabel", "\[Rule]", "\"\<xHandBall\>\""}]}], "]"}], 
     "\[IndentingNewLine]", 
     RowBox[{"Plot", "[", 
      RowBox[{
       RowBox[{"\[Theta]HandBall", "/.", 
        RowBox[{"{", 
         RowBox[{
          RowBox[{
           RowBox[{"\[Theta]0", "[", "t", "]"}], "\[Rule]", "\[Theta]0sol"}], 
          ",", 
          RowBox[{
           RowBox[{"x", "[", "t", "]"}], "\[Rule]", "xsolRoll"}], ",", 
          RowBox[{
           RowBox[{"y", "[", "t", "]"}], "\[Rule]", "ysolRoll"}], ",", 
          RowBox[{
           RowBox[{"\[Theta]", "[", "t", "]"}], "\[Rule]", 
           "\[Theta]solRoll"}]}], "}"}]}], ",", 
       RowBox[{"{", 
        RowBox[{"t", ",", "tRoll", ",", "tMax"}], "}"}], ",", 
       RowBox[{
       "PlotLabel", "\[Rule]", "\"\<ball angle relative to hand\>\""}]}], 
      "]"}], "\[IndentingNewLine]", 
     RowBox[{"Plot", "[", 
      RowBox[{
       RowBox[{
        RowBox[{"\[Theta]", "[", "t", "]"}], "/.", 
        RowBox[{"{", 
         RowBox[{
          RowBox[{
           RowBox[{"\[Theta]0", "[", "t", "]"}], "\[Rule]", "\[Theta]0sol"}], 
          ",", 
          RowBox[{
           RowBox[{"x", "[", "t", "]"}], "\[Rule]", "xsolRoll"}], ",", 
          RowBox[{
           RowBox[{"y", "[", "t", "]"}], "\[Rule]", "ysolRoll"}], ",", 
          RowBox[{
           RowBox[{"\[Theta]", "[", "t", "]"}], "\[Rule]", 
           "\[Theta]solRoll"}]}], "}"}]}], ",", 
       RowBox[{"{", 
        RowBox[{"t", ",", "tRoll", ",", "tMax"}], "}"}], ",", 
       RowBox[{"PlotLabel", "\[Rule]", "\"\<\[Theta][t]\>\""}]}], "]"}]}], 
    "*)"}], "\[IndentingNewLine]", "\[IndentingNewLine]", 
   RowBox[{"(*", 
    RowBox[{
     RowBox[{"Plot", "[", 
      RowBox[{
       RowBox[{
        RowBox[{"gHandBall", "[", 
         RowBox[{"[", 
          RowBox[{"2", ",", "3"}], "]"}], "]"}], "/.", 
        RowBox[{"{", 
         RowBox[{
          RowBox[{
           RowBox[{"\[Theta]0", "[", "t", "]"}], "\[Rule]", "\[Theta]0sol"}], 
          ",", 
          RowBox[{
           RowBox[{"x", "[", "t", "]"}], "\[Rule]", "xsolRoll"}], ",", 
          RowBox[{
           RowBox[{"y", "[", "t", "]"}], "\[Rule]", "ysolRoll"}], ",", 
          RowBox[{
           RowBox[{"\[Theta]", "[", "t", "]"}], "\[Rule]", 
           "\[Theta]solRoll"}]}], "}"}]}], ",", 
       RowBox[{"{", 
        RowBox[{"t", ",", "tRoll", ",", "tMax"}], "}"}]}], "]"}], 
     "\[IndentingNewLine]", 
     RowBox[{"Plot", "[", 
      RowBox[{
       RowBox[{
        RowBox[{"(", 
         RowBox[{"gContact", "[", 
          RowBox[{"[", 
           RowBox[{"1", ",", "3"}], "]"}], "]"}], ")"}], "/.", 
        RowBox[{"{", 
         RowBox[{
          RowBox[{
           RowBox[{"\[Theta]0", "[", "t", "]"}], "\[Rule]", "\[Theta]0sol"}], 
          ",", 
          RowBox[{
           RowBox[{"x", "[", "t", "]"}], "\[Rule]", "xsolRoll"}], ",", 
          RowBox[{
           RowBox[{"y", "[", "t", "]"}], "\[Rule]", "ysolRoll"}], ",", 
          RowBox[{
           RowBox[{"\[Theta]", "[", "t", "]"}], "\[Rule]", 
           "\[Theta]solRoll"}]}], "}"}]}], ",", 
       RowBox[{"{", 
        RowBox[{"t", ",", "tRoll", ",", "tMax"}], "}"}]}], "]"}]}], "*)"}], 
   "\[IndentingNewLine]", "\[IndentingNewLine]", 
   RowBox[{"(*", " ", 
    RowBox[{"Mathematica", " ", "Window", " ", "Animation"}], " ", "*)"}], 
   "\[IndentingNewLine]", 
   RowBox[{"Animate", "[", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"Show", "[", "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"Graphics", "[", 
        RowBox[{"{", "\[IndentingNewLine]", 
         RowBox[{
         "Black", ",", "graphicBackboard", ",", "\[IndentingNewLine]", 
          "Black", ",", "graphicLeftRim", ",", "\[IndentingNewLine]", "Black",
           ",", "graphicRightRim", ",", "\[IndentingNewLine]", "Black", ",", 
          RowBox[{"graphicL1", "/.", 
           RowBox[{"t", "\[Rule]", "time"}]}], ",", "\[IndentingNewLine]", 
          "Black", ",", 
          RowBox[{"graphicBallRoll", "/.", 
           RowBox[{"t", "\[Rule]", "time"}]}], ",", "\[IndentingNewLine]", 
          "Black", ",", 
          RowBox[{"graphicLineRoll", "/.", 
           RowBox[{"t", "\[Rule]", "time"}]}]}], "\[IndentingNewLine]", "}"}],
         "]"}], ",", "\[IndentingNewLine]", 
       RowBox[{"PlotRange", "\[Rule]", 
        RowBox[{"{", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{
            RowBox[{"-", "6"}], ",", "2"}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"-", "1"}], ",", "4"}], "}"}]}], "}"}]}], ",", 
       "\[IndentingNewLine]", 
       RowBox[{"Axes", "\[Rule]", "True"}]}], "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{"ImageSize", "\[Rule]", "Full"}], "*)"}], 
      "\[IndentingNewLine]", "]"}], ",", "\[IndentingNewLine]", 
     RowBox[{"{", 
      RowBox[{"time", ",", "tRoll", ",", "tMax"}], "}"}], ",", 
     "\[IndentingNewLine]", 
     RowBox[{"AnimationRunning", "\[Rule]", "False"}], ",", 
     "\[IndentingNewLine]", 
     RowBox[{"AnimationRate", "\[Rule]", "1.0"}]}], "\[IndentingNewLine]", 
    RowBox[{"(*", 
     RowBox[{"ContentSize", "\[Rule]", 
      RowBox[{"{", 
       RowBox[{"1000", ",", "800"}], "}"}]}], "*)"}], "\[IndentingNewLine]", 
    "]"}], "\[IndentingNewLine]"}]}]], "Input",
 CellChangeTimes->{{3.717439386583664*^9, 3.717439432762535*^9}, {
   3.717439516793912*^9, 3.717439544723115*^9}, {3.71743958151849*^9, 
   3.717439581876086*^9}, {3.717450872581456*^9, 3.717450924948525*^9}, {
   3.717451119989726*^9, 3.7174511465776567`*^9}, {3.717451204244412*^9, 
   3.7174512052771883`*^9}, {3.717451328459033*^9, 3.717451328793481*^9}, {
   3.7174514412213087`*^9, 3.717451449513052*^9}, {3.717787910961091*^9, 
   3.717787911727784*^9}, {3.717788091824202*^9, 3.71778809203684*^9}, {
   3.7177882162048063`*^9, 3.71778821646207*^9}, {3.717788754301043*^9, 
   3.7177888122730207`*^9}, 3.717788853241716*^9, 3.7177891454851837`*^9, {
   3.7177892229131002`*^9, 3.7177892231416817`*^9}, {3.717789266912282*^9, 
   3.717789396337778*^9}, {3.717789534664075*^9, 3.7177895375506077`*^9}, {
   3.717789933414743*^9, 3.717789934491056*^9}, {3.7177899853579073`*^9, 
   3.7177900229628763`*^9}, 3.717790099615878*^9, {3.717790202522112*^9, 
   3.717790234524105*^9}, {3.717803064871684*^9, 3.717803073795429*^9}, 
   3.717803109616218*^9, {3.717803197331957*^9, 3.717803210068224*^9}, {
   3.7178032550308037`*^9, 3.717803268259325*^9}, {3.7178033713205433`*^9, 
   3.717803374789853*^9}, {3.717803466618531*^9, 3.7178035055708323`*^9}, {
   3.7178035414374733`*^9, 3.717803542754839*^9}, {3.717803635602941*^9, 
   3.7178036383357964`*^9}, {3.717803669098304*^9, 3.717803690169158*^9}, 
   3.7178037295690403`*^9, {3.71780382416991*^9, 3.717803824393869*^9}, {
   3.7178039374751663`*^9, 3.717804052103216*^9}, {3.71780411696968*^9, 
   3.7178041667024403`*^9}, {3.71780424948812*^9, 3.717804280874963*^9}, {
   3.7178043212638702`*^9, 3.7178043682091846`*^9}, {3.7178044047366753`*^9, 
   3.717804408014913*^9}, {3.71780445048588*^9, 3.717804470992114*^9}, {
   3.717804508053794*^9, 3.717804516541411*^9}, {3.7178045692894163`*^9, 
   3.717804601680231*^9}, {3.7178046632212276`*^9, 3.717804675572711*^9}, {
   3.717804722946656*^9, 3.7178047314665623`*^9}, {3.717804761970805*^9, 
   3.71780478427295*^9}, {3.717804845752798*^9, 3.717804870743278*^9}, {
   3.717804914991394*^9, 3.717804947525744*^9}, {3.717805031942443*^9, 
   3.717805041269167*^9}, {3.717881576437653*^9, 3.71788158356216*^9}, {
   3.7178819726011887`*^9, 3.71788198770186*^9}, 3.7178820769090033`*^9, {
   3.717882361406744*^9, 3.717882389399724*^9}, {3.7178824609978743`*^9, 
   3.717882468351473*^9}, {3.71788979734064*^9, 3.717889797402577*^9}, 
   3.717947638175201*^9, {3.717952527026596*^9, 3.717952574807621*^9}, {
   3.717952606849175*^9, 3.717952607382234*^9}, {3.7179527978443193`*^9, 
   3.717952797903255*^9}, {3.7179528284042387`*^9, 3.717952864897222*^9}, {
   3.717952898851965*^9, 3.7179528993421087`*^9}, {3.71795294126998*^9, 
   3.717952943559224*^9}, {3.717953512154368*^9, 3.717953528558846*^9}, 
   3.71795385514225*^9, {3.7179550875229607`*^9, 3.717955089940988*^9}, {
   3.7179552537146072`*^9, 3.717955267128916*^9}, {3.717955577607976*^9, 
   3.717955578305106*^9}, {3.717955797602889*^9, 3.717955877552052*^9}, {
   3.717956265754038*^9, 3.717956266493622*^9}, {3.717956316728757*^9, 
   3.717956318435959*^9}, {3.717956375846713*^9, 3.71795637843223*^9}, {
   3.7179568605368013`*^9, 3.7179569248800297`*^9}, {3.7179586862472973`*^9, 
   3.7179587580688467`*^9}, {3.7179589844712887`*^9, 3.717959036621916*^9}, 
   3.7179590737908497`*^9, {3.717964635272874*^9, 3.717964635720942*^9}, {
   3.7179650252681227`*^9, 3.717965061486209*^9}, {3.717965107010708*^9, 
   3.717965107885051*^9}, {3.717965221338056*^9, 3.7179652220813303`*^9}, {
   3.717965453533368*^9, 3.7179654840528097`*^9}, {3.7179655992689333`*^9, 
   3.717965610495513*^9}, {3.7179657230218163`*^9, 3.7179657234782248`*^9}, {
   3.7179658267421618`*^9, 3.717965828064928*^9}, {3.7179658963034353`*^9, 
   3.717965923116126*^9}, {3.7179659733287373`*^9, 3.717966031194625*^9}, {
   3.7179660615878*^9, 3.717966075278366*^9}, {3.717966160283874*^9, 
   3.717966187771936*^9}, {3.7179662980501423`*^9, 3.7179663304701633`*^9}, 
   3.7179663890336847`*^9, 3.717966424793132*^9, {3.717966461163178*^9, 
   3.7179664709625893`*^9}, {3.717966529737121*^9, 3.71796656616038*^9}, {
   3.717966611013301*^9, 3.7179666413099823`*^9}, {3.71796668721273*^9, 
   3.7179667163642073`*^9}, {3.717966943167013*^9, 3.71796694353052*^9}, 
   3.7179675422009897`*^9, 3.718031591398687*^9, {3.7180317191622677`*^9, 
   3.7180317247268763`*^9}, {3.718032818981126*^9, 3.718032855347596*^9}, {
   3.718032920261837*^9, 3.718032934269437*^9}, {3.718033063197706*^9, 
   3.718033118425087*^9}, {3.7180331578028307`*^9, 3.718033160046403*^9}, {
   3.718390382082685*^9, 3.7183903820898113`*^9}, {3.718393894446061*^9, 
   3.7183939080257893`*^9}, 3.718393978640141*^9, {3.718394069606406*^9, 
   3.7183940812931833`*^9}, 3.7183941885801773`*^9, {3.718395214163554*^9, 
   3.71839521417535*^9}}],

Cell[CellGroupData[{

Cell[BoxData["\<\"Let it fly!\"\>"], "Print",
 CellChangeTimes->{3.7184601769020977`*^9, 3.7184604928836393`*^9, 
  3.7184605832531157`*^9, 3.718460617838531*^9, 3.718460674639832*^9, 
  3.718460791439128*^9, 3.718461046890993*^9}],

Cell[BoxData["0.34747415663438347`"], "Print",
 CellChangeTimes->{3.7184601769020977`*^9, 3.7184604928836393`*^9, 
  3.7184605832531157`*^9, 3.718460617838531*^9, 3.718460674639832*^9, 
  3.718460791439128*^9, 3.718461046902811*^9}]
}, Open  ]],

Cell[BoxData[
 TagBox[
  StyleBox[
   DynamicModuleBox[{$CellContext`time$$ = 0.05, Typeset`show$$ = True, 
    Typeset`bookmarkList$$ = {}, Typeset`bookmarkMode$$ = "Menu", 
    Typeset`animator$$, Typeset`animvar$$ = 1, Typeset`name$$ = 
    "\"untitled\"", Typeset`specs$$ = {{
      Hold[$CellContext`time$$], 0.05, 3}}, Typeset`size$$ = {
    360., {114., 119.}}, Typeset`update$$ = 0, Typeset`initDone$$, 
    Typeset`skipInitDone$$ = True, $CellContext`time$1097$$ = 0}, 
    DynamicBox[Manipulate`ManipulateBoxes[
     1, StandardForm, "Variables" :> {$CellContext`time$$ = 0.05}, 
      "ControllerVariables" :> {
        Hold[$CellContext`time$$, $CellContext`time$1097$$, 0]}, 
      "OtherVariables" :> {
       Typeset`show$$, Typeset`bookmarkList$$, Typeset`bookmarkMode$$, 
        Typeset`animator$$, Typeset`animvar$$, Typeset`name$$, 
        Typeset`specs$$, Typeset`size$$, Typeset`update$$, Typeset`initDone$$,
         Typeset`skipInitDone$$}, "Body" :> Show[
        Graphics[{
         Black, $CellContext`graphicBackboard, 
          Black, $CellContext`graphicLeftRim, 
          Black, $CellContext`graphicRightRim, Black, 
          
          ReplaceAll[$CellContext`graphicL1, $CellContext`t -> \
$CellContext`time$$], Black, 
          
          ReplaceAll[$CellContext`graphicBallRoll, $CellContext`t -> \
$CellContext`time$$], Black, 
          
          ReplaceAll[$CellContext`graphicLineRoll, $CellContext`t -> \
$CellContext`time$$]}], PlotRange -> {{-6, 2}, {-1, 4}}, Axes -> True], 
      "Specifications" :> {{$CellContext`time$$, 0.05, 3, AnimationRunning -> 
         False, AnimationRate -> 1., 
         AppearanceElements -> {
          "ProgressSlider", "PlayPauseButton", "FasterSlowerButtons", 
           "DirectionButton"}}}, 
      "Options" :> {
       ControlType -> Animator, AppearanceElements -> None, DefaultBaseStyle -> 
        "Animate", DefaultLabelStyle -> "AnimateLabel", SynchronousUpdating -> 
        True, ShrinkingDelay -> 10.}, "DefaultOptions" :> {}],
     ImageSizeCache->{405., {151., 157.}},
     SingleEvaluation->True],
    Deinitialization:>None,
    DynamicModuleValues:>{},
    SynchronousInitialization->True,
    UndoTrackedVariables:>{Typeset`show$$, Typeset`bookmarkMode$$},
    UnsavedVariables:>{Typeset`initDone$$},
    UntrackedVariables:>{Typeset`size$$}], "Animate",
   Deployed->True,
   StripOnInput->False],
  Manipulate`InterpretManipulate[1]]], "Output",
 CellChangeTimes->{
  3.717450770924111*^9, 3.717450816564313*^9, {3.717450940231637*^9, 
   3.717450956779986*^9}, 3.71745117270086*^9, 3.7174512265059423`*^9, {
   3.717451368296253*^9, 3.717451380752647*^9}, 3.7177879587895327`*^9, 
   3.717788734989293*^9, 3.7177888161870823`*^9, 3.717788861140134*^9, 
   3.71778912093939*^9, {3.7177891543855457`*^9, 3.717789169597198*^9}, 
   3.717789246867674*^9, 3.717789381156777*^9, {3.717789417531393*^9, 
   3.717789432345105*^9}, 3.717789949553792*^9, 3.717790087191268*^9, 
   3.717790220898246*^9, 3.7178029380883093`*^9, {3.7178030777369423`*^9, 
   3.7178030871126013`*^9}, 3.717803221954805*^9, 3.717803277973236*^9, 
   3.717803628966529*^9, 3.717803699723545*^9, 3.71780376451862*^9, {
   3.71780397247198*^9, 3.717803999361413*^9}, {3.717804058131373*^9, 
   3.717804071638459*^9}, 3.717804131035468*^9, 3.717804235210155*^9, 
   3.717804291566001*^9, 3.717804380827979*^9, 3.7178044175486917`*^9, 
   3.717804480477325*^9, 3.7178046250373507`*^9, 3.717804684875526*^9, 
   3.7178047400422583`*^9, 3.717804827130097*^9, {3.717804962691616*^9, 
   3.717804986572504*^9}, 3.717805061589994*^9, 3.717879510341248*^9, 
   3.717879581611795*^9, 3.717879721125149*^9, {3.717881998571371*^9, 
   3.7178820088512487`*^9}, 3.717882081258172*^9, {3.717882371955284*^9, 
   3.717882399671515*^9}, {3.717882451657555*^9, 3.7178824781367283`*^9}, 
   3.7178940888541594`*^9, 3.7179480310664263`*^9, 3.717955140609397*^9, 
   3.717955203087232*^9, {3.717955387663527*^9, 3.717955400850636*^9}, 
   3.717955927469225*^9, 3.717956055321355*^9, 3.717956346770083*^9, 
   3.717956940350066*^9, 3.7179589460899363`*^9, 3.717965064667139*^9, {
   3.717965110093607*^9, 3.717965121776052*^9}, 3.717965176485026*^9, 
   3.717965234443096*^9, 3.717965485040044*^9, {3.717965611705783*^9, 
   3.717965625134615*^9}, 3.7179656935659237`*^9, {3.717965818868574*^9, 
   3.717965845423551*^9}, {3.7179659351621523`*^9, 3.717966004706461*^9}, 
   3.7179660419282923`*^9, {3.717966132626422*^9, 3.717966174960012*^9}, {
   3.717966249457378*^9, 3.717966277387239*^9}, 3.717966341229184*^9, 
   3.717966480505755*^9, 3.7179665792701397`*^9, 3.717966627234702*^9, 
   3.7179667016228867`*^9, 3.717967438605563*^9, 3.717967582814396*^9, 
   3.718031009665341*^9, 3.718031051207402*^9, 3.718031117630158*^9, 
   3.718031166190065*^9, 3.718031799013463*^9, {3.7180328610344343`*^9, 
   3.7180328794376783`*^9}, 3.718032956549658*^9, 3.718033137135075*^9, 
   3.718393875776915*^9, 3.718393916451137*^9, 3.7183939533543177`*^9, 
   3.718393986712834*^9, {3.718394057286511*^9, 3.718394082482828*^9}, {
   3.7183941615037518`*^9, 3.718394200911323*^9}, 3.718394243451159*^9, 
   3.7183943102088213`*^9, 3.718394470855444*^9, 3.718394580131299*^9, 
   3.71839485002818*^9, {3.718394890152444*^9, 3.7183949172644787`*^9}, 
   3.718394957526578*^9, 3.718395027878018*^9, {3.718395090011322*^9, 
   3.7183950997637177`*^9}, 3.71839525198905*^9, 3.718459961939764*^9, {
   3.71846016671668*^9, 3.718460176981529*^9}, 3.718460492978546*^9, 
   3.718460583339563*^9, 3.718460617926613*^9, 3.718460674725821*^9, 
   3.718460791529026*^9, 3.718461046977779*^9}]
}, Open  ]],

Cell[BoxData["\[AliasDelimiter]"], "Input",
 CellChangeTimes->{3.718394166815432*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell["Phase 3 (simulation after release)", "Section",
 CellChangeTimes->{{3.717967040872817*^9, 3.7179670491165524`*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", " ", 
   RowBox[{"Configuration", " ", "Variables"}], " ", "*)"}], 
  "\[IndentingNewLine]", 
  RowBox[{
   RowBox[{
    RowBox[{"q", "=", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{"xSim", "[", "t", "]"}], ",", 
         RowBox[{"ySim", "[", "t", "]"}], ",", 
         RowBox[{"\[Theta]Sim", "[", "t", "]"}]}], "}"}], "}"}], 
      "\[Transpose]"}]}], ";"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"dq", "=", 
     RowBox[{"D", "[", 
      RowBox[{"q", ",", "t"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"ddq", "=", 
     RowBox[{"D", "[", 
      RowBox[{"dq", ",", "t"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
   "\[IndentingNewLine]", 
   RowBox[{"(*", " ", 
    RowBox[{
    "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", 
     "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", 
     "##"}], " ", "*)"}], "\[IndentingNewLine]", 
   RowBox[{"(*", " ", "Lagrangian", " ", "*)"}], "\[IndentingNewLine]", 
   RowBox[{"(*", " ", 
    RowBox[{
    "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", 
     "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", 
     "##"}], " ", "*)"}], "\[IndentingNewLine]", "\[IndentingNewLine]", 
   RowBox[{"(*", " ", "Lagrangian", " ", "*)"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"Iball", "=", 
     RowBox[{
      RowBox[{"2", "/", "3"}], "*", "m", "*", 
      RowBox[{"rBall", "^", "2"}]}]}], ";"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"KE", "=", 
     RowBox[{
      RowBox[{
       RowBox[{"1", "/", "2"}], "*", "m", "*", 
       RowBox[{"(", 
        RowBox[{
         RowBox[{
          RowBox[{
           RowBox[{"xSim", "'"}], "[", "t", "]"}], "^", "2"}], "+", 
         RowBox[{
          RowBox[{
           RowBox[{"ySim", "'"}], "[", "t", "]"}], "^", "2"}]}], ")"}]}], "+", 
      RowBox[{
       RowBox[{"1", "/", "2"}], "*", "Iball", "*", 
       RowBox[{
        RowBox[{
         RowBox[{"\[Theta]Sim", "'"}], "[", "t", "]"}], "^", "2"}]}]}]}], 
    ";"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"PE", "=", 
     RowBox[{"m", "*", "grav", "*", 
      RowBox[{"ySim", "[", "t", "]"}]}]}], ";"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"L", "=", 
     RowBox[{"KE", "-", "PE"}]}], ";"}], "\[IndentingNewLine]", 
   "\[IndentingNewLine]", 
   RowBox[{"(*", " ", 
    RowBox[{"Euler", "-", 
     RowBox[{"Lagrange", " ", "equations"}]}], " ", "*)"}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"Eq", "=", 
     RowBox[{"(", 
      RowBox[{"Thread", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"D", "[", 
          RowBox[{"L", ",", 
           RowBox[{"q", "\[Transpose]"}]}], "]"}], "-", 
         RowBox[{"D", "[", 
          RowBox[{
           RowBox[{"D", "[", 
            RowBox[{"L", ",", 
             RowBox[{"dq", "\[Transpose]"}]}], "]"}], ",", "t"}], "]"}]}], 
        "\[Equal]", "0"}], "]"}], ")"}]}], ";"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"ELtemp", "=", 
     RowBox[{"Solve", "[", 
      RowBox[{
       RowBox[{
        RowBox[{"Eq", "[", 
         RowBox[{"[", "1", "]"}], "]"}], "&&", 
        RowBox[{"Eq", "[", 
         RowBox[{"[", "2", "]"}], "]"}], "&&", 
        RowBox[{"Eq", "[", 
         RowBox[{"[", "3", "]"}], "]"}]}], ",", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{
          RowBox[{"ySim", "''"}], "[", "t", "]"}], ",", 
         RowBox[{
          RowBox[{"xSim", "''"}], "[", "t", "]"}], ",", 
         RowBox[{
          RowBox[{"\[Theta]Sim", "''"}], "[", "t", "]"}]}], "}"}]}], "]"}]}], 
    ";"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"EL", "=", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{
        RowBox[{
         RowBox[{"ySim", "''"}], "[", "t", "]"}], "\[Equal]", 
        RowBox[{"ELtemp", "[", 
         RowBox[{"[", 
          RowBox[{"1", ",", "1", ",", "2"}], "]"}], "]"}]}], ",", 
       RowBox[{
        RowBox[{
         RowBox[{"xSim", "''"}], "[", "t", "]"}], "\[Equal]", 
        RowBox[{"ELtemp", "[", 
         RowBox[{"[", 
          RowBox[{"1", ",", "2", ",", "2"}], "]"}], "]"}]}], ",", 
       RowBox[{
        RowBox[{
         RowBox[{"\[Theta]Sim", "''"}], "[", "t", "]"}], "\[Equal]", 
        RowBox[{"ELtemp", "[", 
         RowBox[{"[", 
          RowBox[{"1", ",", "3", ",", "2"}], "]"}], "]"}]}]}], "}"}]}], ";"}],
    "\[IndentingNewLine]", "\[IndentingNewLine]", 
   RowBox[{"(*", " ", "Hamiltonian", " ", "*)"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"p", "=", 
     RowBox[{"D", "[", 
      RowBox[{"L", ",", 
       RowBox[{"dq", "\[Transpose]"}]}], "]"}]}], ";"}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"H", "=", 
     RowBox[{
      RowBox[{"p", ".", "dq"}], "-", "L"}]}], ";"}], "\[IndentingNewLine]", 
   "\[IndentingNewLine]", 
   RowBox[{"(*", " ", 
    RowBox[{
    "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", 
     "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", 
     "##"}], " ", "*)"}], "\[IndentingNewLine]", 
   RowBox[{"(*", " ", 
    RowBox[{
     RowBox[{"Impact", " ", "Equations"}], " ", "-", " ", 
     RowBox[{
     "solving", " ", "for", " ", "velocities", " ", "after", " ", 
      "impacts"}]}], " ", "*)"}], "\[IndentingNewLine]", 
   RowBox[{"(*", " ", 
    RowBox[{
    "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", 
     "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", 
     "##"}], " ", "*)"}], "\[IndentingNewLine]", "\[IndentingNewLine]", 
   RowBox[{"(*", " ", 
    RowBox[{"Impact", " ", "with", " ", "ground"}], " ", "*)"}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"\[Phi]0", "=", 
     RowBox[{
      RowBox[{"ySim", "[", "t", "]"}], "-", "rBall"}]}], ";"}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"ChangeMomentum", "=", 
     RowBox[{"Thread", "[", 
      RowBox[{
       RowBox[{
        RowBox[{"(", 
         RowBox[{
          RowBox[{
           RowBox[{
            RowBox[{"D", "[", 
             RowBox[{"L", ",", 
              RowBox[{"dq", "\[Transpose]"}]}], "]"}], "/.", 
            RowBox[{"(", 
             RowBox[{
              RowBox[{
               RowBox[{"xSim", "'"}], "[", "t", "]"}], "\[Rule]", 
              "\[Phi]0dq1p"}], ")"}]}], "/.", 
           RowBox[{"(", 
            RowBox[{
             RowBox[{
              RowBox[{"ySim", "'"}], "[", "t", "]"}], "\[Rule]", 
             "\[Phi]0dq2p"}], ")"}]}], "/.", 
          RowBox[{"(", 
           RowBox[{
            RowBox[{
             RowBox[{"\[Theta]Sim", "'"}], "[", "t", "]"}], "\[Rule]", 
            "\[Phi]0dq3p"}], ")"}]}], ")"}], "-", 
        RowBox[{"(", 
         RowBox[{"D", "[", 
          RowBox[{"L", ",", 
           RowBox[{"dq", "\[Transpose]"}]}], "]"}], ")"}]}], "\[Equal]", 
       RowBox[{"\[Lambda]", "*", 
        RowBox[{"D", "[", 
         RowBox[{"\[Phi]0", ",", 
          RowBox[{"q", "\[Transpose]"}]}], "]"}]}]}], "]"}]}], ";"}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"Hn", "=", "H"}], ";"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"Hp", "=", 
     RowBox[{
      RowBox[{
       RowBox[{"H", "/.", 
        RowBox[{"(", 
         RowBox[{
          RowBox[{
           RowBox[{"xSim", "'"}], "[", "t", "]"}], "\[Rule]", "\[Phi]0dq1p"}],
          ")"}]}], "/.", 
       RowBox[{"(", 
        RowBox[{
         RowBox[{
          RowBox[{"ySim", "'"}], "[", "t", "]"}], "\[Rule]", "\[Phi]0dq2p"}], 
        ")"}]}], "/.", 
      RowBox[{"(", 
       RowBox[{
        RowBox[{
         RowBox[{"\[Theta]Sim", "'"}], "[", "t", "]"}], "\[Rule]", 
        "\[Phi]0dq3p"}], ")"}]}]}], ";"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"ConserveH", "=", 
     RowBox[{"(", 
      RowBox[{"Hp", "\[Equal]", "Hn"}], ")"}]}], ";"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"IEq", "=", 
     RowBox[{"Solve", "[", 
      RowBox[{
       RowBox[{
        RowBox[{"ChangeMomentum", "[", 
         RowBox[{"[", "1", "]"}], "]"}], "&&", 
        RowBox[{"ChangeMomentum", "[", 
         RowBox[{"[", "2", "]"}], "]"}], "&&", 
        RowBox[{"ChangeMomentum", "[", 
         RowBox[{"[", "3", "]"}], "]"}], "&&", "ConserveH"}], ",", 
       RowBox[{"{", 
        RowBox[{
        "\[Phi]0dq1p", ",", "\[Phi]0dq2p", ",", "\[Phi]0dq3p", ",", 
         "\[Lambda]"}], "}"}]}], "]"}]}], ";"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"\[Phi]0dq1p", "=", 
     RowBox[{
      RowBox[{"IEq", "[", 
       RowBox[{"[", 
        RowBox[{"1", ",", "1", ",", "2"}], "]"}], "]"}], "*", "c"}]}], ";"}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"\[Phi]0dq2p", "=", 
     RowBox[{
      RowBox[{"IEq", "[", 
       RowBox[{"[", 
        RowBox[{"1", ",", "2", ",", "2"}], "]"}], "]"}], "*", "c"}]}], ";"}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"\[Phi]0dq3p", "=", 
     RowBox[{"IEq", "[", 
      RowBox[{"[", 
       RowBox[{"1", ",", "3", ",", "2"}], "]"}], "]"}]}], ";"}], 
   "\[IndentingNewLine]", "\[IndentingNewLine]", 
   RowBox[{"(*", " ", 
    RowBox[{"Impact", " ", "with", " ", "backboard"}], " ", "*)"}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"\[Phi]1", "=", 
     RowBox[{
      RowBox[{"xSim", "[", "t", "]"}], "-", "rBall", "-", 
      RowBox[{"coordBackboardBottom", "[", 
       RowBox[{"[", "1", "]"}], "]"}]}]}], ";"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"ChangeMomentum", "=", 
     RowBox[{"Thread", "[", 
      RowBox[{
       RowBox[{
        RowBox[{"(", 
         RowBox[{
          RowBox[{
           RowBox[{
            RowBox[{"D", "[", 
             RowBox[{"L", ",", 
              RowBox[{"dq", "\[Transpose]"}]}], "]"}], "/.", 
            RowBox[{"(", 
             RowBox[{
              RowBox[{
               RowBox[{"xSim", "'"}], "[", "t", "]"}], "\[Rule]", 
              "\[Phi]1dq1p"}], ")"}]}], "/.", 
           RowBox[{"(", 
            RowBox[{
             RowBox[{
              RowBox[{"ySim", "'"}], "[", "t", "]"}], "\[Rule]", 
             "\[Phi]1dq2p"}], ")"}]}], "/.", 
          RowBox[{"(", 
           RowBox[{
            RowBox[{
             RowBox[{"\[Theta]Sim", "'"}], "[", "t", "]"}], "\[Rule]", 
            "\[Phi]1dq3p"}], ")"}]}], ")"}], "-", 
        RowBox[{"(", 
         RowBox[{"D", "[", 
          RowBox[{"L", ",", 
           RowBox[{"dq", "\[Transpose]"}]}], "]"}], ")"}]}], "\[Equal]", 
       RowBox[{"\[Lambda]", "*", 
        RowBox[{"D", "[", 
         RowBox[{"\[Phi]1", ",", 
          RowBox[{"q", "\[Transpose]"}]}], "]"}]}]}], "]"}]}], ";"}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"Hn", "=", "H"}], ";"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"Hp", "=", 
     RowBox[{
      RowBox[{
       RowBox[{"H", "/.", 
        RowBox[{"(", 
         RowBox[{
          RowBox[{
           RowBox[{"xSim", "'"}], "[", "t", "]"}], "\[Rule]", "\[Phi]1dq1p"}],
          ")"}]}], "/.", 
       RowBox[{"(", 
        RowBox[{
         RowBox[{
          RowBox[{"ySim", "'"}], "[", "t", "]"}], "\[Rule]", "\[Phi]1dq2p"}], 
        ")"}]}], "/.", 
      RowBox[{"(", 
       RowBox[{
        RowBox[{
         RowBox[{"\[Theta]Sim", "'"}], "[", "t", "]"}], "\[Rule]", 
        "\[Phi]1dq3p"}], ")"}]}]}], ";"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"ConserveH", "=", 
     RowBox[{"(", 
      RowBox[{"Hp", "\[Equal]", "Hn"}], ")"}]}], ";"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"IEq", "=", 
     RowBox[{"Solve", "[", 
      RowBox[{
       RowBox[{
        RowBox[{"ChangeMomentum", "[", 
         RowBox[{"[", "1", "]"}], "]"}], "&&", 
        RowBox[{"ChangeMomentum", "[", 
         RowBox[{"[", "2", "]"}], "]"}], "&&", 
        RowBox[{"ChangeMomentum", "[", 
         RowBox[{"[", "3", "]"}], "]"}], "&&", "ConserveH"}], ",", 
       RowBox[{"{", 
        RowBox[{
        "\[Phi]1dq1p", ",", "\[Phi]1dq2p", ",", "\[Phi]1dq3p", ",", 
         "\[Lambda]"}], "}"}]}], "]"}]}], ";"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"\[Phi]1dq1p", "=", 
     RowBox[{
      RowBox[{"IEq", "[", 
       RowBox[{"[", 
        RowBox[{"1", ",", "1", ",", "2"}], "]"}], "]"}], "*", "c"}]}], ";"}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"\[Phi]1dq2p", "=", 
     RowBox[{
      RowBox[{"IEq", "[", 
       RowBox[{"[", 
        RowBox[{"1", ",", "2", ",", "2"}], "]"}], "]"}], "*", "c"}]}], ";"}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"\[Phi]1dq3p", "=", 
     RowBox[{"IEq", "[", 
      RowBox[{"[", 
       RowBox[{"1", ",", "3", ",", "2"}], "]"}], "]"}]}], ";"}], 
   "\[IndentingNewLine]", "\[IndentingNewLine]", 
   RowBox[{"(*", " ", 
    RowBox[{"Impact", " ", "with", " ", "left", " ", "rim"}], " ", "*)"}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"\[Phi]2", "=", 
     RowBox[{
      RowBox[{"Distance2D", "[", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{
          RowBox[{"xSim", "[", "t", "]"}], ",", 
          RowBox[{"ySim", "[", "t", "]"}]}], "}"}], ",", "coordLeftRim"}], 
       "]"}], "-", 
      RowBox[{"RimThickness", "/", "2"}], "-", "rBall"}]}], ";"}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"ChangeMomentum", "=", 
     RowBox[{"Thread", "[", 
      RowBox[{
       RowBox[{
        RowBox[{"(", 
         RowBox[{
          RowBox[{
           RowBox[{
            RowBox[{"D", "[", 
             RowBox[{"L", ",", 
              RowBox[{"dq", "\[Transpose]"}]}], "]"}], "/.", 
            RowBox[{"(", 
             RowBox[{
              RowBox[{
               RowBox[{"xSim", "'"}], "[", "t", "]"}], "\[Rule]", 
              "\[Phi]2dq1p"}], ")"}]}], "/.", 
           RowBox[{"(", 
            RowBox[{
             RowBox[{
              RowBox[{"ySim", "'"}], "[", "t", "]"}], "\[Rule]", 
             "\[Phi]2dq2p"}], ")"}]}], "/.", 
          RowBox[{"(", 
           RowBox[{
            RowBox[{
             RowBox[{"\[Theta]Sim", "'"}], "[", "t", "]"}], "\[Rule]", 
            "\[Phi]2dq3p"}], ")"}]}], ")"}], "-", 
        RowBox[{"(", 
         RowBox[{"D", "[", 
          RowBox[{"L", ",", 
           RowBox[{"dq", "\[Transpose]"}]}], "]"}], ")"}]}], "\[Equal]", 
       RowBox[{"\[Lambda]", "*", 
        RowBox[{"D", "[", 
         RowBox[{"\[Phi]2", ",", 
          RowBox[{"q", "\[Transpose]"}]}], "]"}]}]}], "]"}]}], ";"}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"Hn", "=", "H"}], ";"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"Hp", "=", 
     RowBox[{
      RowBox[{
       RowBox[{"H", "/.", 
        RowBox[{"(", 
         RowBox[{
          RowBox[{
           RowBox[{"xSim", "'"}], "[", "t", "]"}], "\[Rule]", "\[Phi]2dq1p"}],
          ")"}]}], "/.", 
       RowBox[{"(", 
        RowBox[{
         RowBox[{
          RowBox[{"ySim", "'"}], "[", "t", "]"}], "\[Rule]", "\[Phi]2dq2p"}], 
        ")"}]}], "/.", 
      RowBox[{"(", 
       RowBox[{
        RowBox[{
         RowBox[{"\[Theta]Sim", "'"}], "[", "t", "]"}], "\[Rule]", 
        "\[Phi]2dq3p"}], ")"}]}]}], ";"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"ConserveH", "=", 
     RowBox[{"(", 
      RowBox[{"Hp", "\[Equal]", "Hn"}], ")"}]}], ";"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"IEq", "=", 
     RowBox[{"Solve", "[", 
      RowBox[{
       RowBox[{
        RowBox[{"ChangeMomentum", "[", 
         RowBox[{"[", "1", "]"}], "]"}], "&&", 
        RowBox[{"ChangeMomentum", "[", 
         RowBox[{"[", "2", "]"}], "]"}], "&&", 
        RowBox[{"ChangeMomentum", "[", 
         RowBox[{"[", "3", "]"}], "]"}], "&&", "ConserveH"}], ",", 
       RowBox[{"{", 
        RowBox[{
        "\[Phi]2dq1p", ",", "\[Phi]2dq2p", ",", "\[Phi]2dq3p", ",", 
         "\[Lambda]"}], "}"}]}], "]"}]}], ";"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"\[Phi]2dq1p", "=", 
     RowBox[{
      RowBox[{"IEq", "[", 
       RowBox[{"[", 
        RowBox[{"2", ",", "1", ",", "2"}], "]"}], "]"}], "*", "c"}]}], ";"}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"\[Phi]2dq2p", "=", 
     RowBox[{
      RowBox[{"IEq", "[", 
       RowBox[{"[", 
        RowBox[{"2", ",", "2", ",", "2"}], "]"}], "]"}], "*", "c"}]}], ";"}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"\[Phi]2dq3p", "=", 
     RowBox[{"IEq", "[", 
      RowBox[{"[", 
       RowBox[{"2", ",", "3", ",", "2"}], "]"}], "]"}]}], ";"}], 
   "\[IndentingNewLine]", "\[IndentingNewLine]", 
   RowBox[{"(*", " ", 
    RowBox[{"Impact", " ", "with", " ", "right", " ", "rim"}], " ", "*)"}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"\[Phi]3", "=", 
     RowBox[{
      RowBox[{"Distance2D", "[", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{
          RowBox[{"xSim", "[", "t", "]"}], ",", 
          RowBox[{"ySim", "[", "t", "]"}]}], "}"}], ",", "coordRightRim"}], 
       "]"}], "-", 
      RowBox[{"RimThickness", "/", "2"}], "-", "rBall"}]}], ";"}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"ChangeMomentum", "=", 
     RowBox[{"Thread", "[", 
      RowBox[{
       RowBox[{
        RowBox[{"(", 
         RowBox[{
          RowBox[{
           RowBox[{
            RowBox[{"D", "[", 
             RowBox[{"L", ",", 
              RowBox[{"dq", "\[Transpose]"}]}], "]"}], "/.", 
            RowBox[{"(", 
             RowBox[{
              RowBox[{
               RowBox[{"xSim", "'"}], "[", "t", "]"}], "\[Rule]", 
              "\[Phi]3dq1p"}], ")"}]}], "/.", 
           RowBox[{"(", 
            RowBox[{
             RowBox[{
              RowBox[{"ySim", "'"}], "[", "t", "]"}], "\[Rule]", 
             "\[Phi]3dq2p"}], ")"}]}], "/.", 
          RowBox[{"(", 
           RowBox[{
            RowBox[{
             RowBox[{"\[Theta]Sim", "'"}], "[", "t", "]"}], "\[Rule]", 
            "\[Phi]3dq3p"}], ")"}]}], ")"}], "-", 
        RowBox[{"(", 
         RowBox[{"D", "[", 
          RowBox[{"L", ",", 
           RowBox[{"dq", "\[Transpose]"}]}], "]"}], ")"}]}], "\[Equal]", 
       RowBox[{"\[Lambda]", "*", 
        RowBox[{"D", "[", 
         RowBox[{"\[Phi]3", ",", 
          RowBox[{"q", "\[Transpose]"}]}], "]"}]}]}], "]"}]}], ";"}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"Hn", "=", "H"}], ";"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"Hp", "=", 
     RowBox[{
      RowBox[{
       RowBox[{"H", "/.", 
        RowBox[{"(", 
         RowBox[{
          RowBox[{
           RowBox[{"xSim", "'"}], "[", "t", "]"}], "\[Rule]", "\[Phi]3dq1p"}],
          ")"}]}], "/.", 
       RowBox[{"(", 
        RowBox[{
         RowBox[{
          RowBox[{"ySim", "'"}], "[", "t", "]"}], "\[Rule]", "\[Phi]3dq2p"}], 
        ")"}]}], "/.", 
      RowBox[{"(", 
       RowBox[{
        RowBox[{
         RowBox[{"\[Theta]Sim", "'"}], "[", "t", "]"}], "\[Rule]", 
        "\[Phi]3dq3p"}], ")"}]}]}], ";"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"ConserveH", "=", 
     RowBox[{"(", 
      RowBox[{"Hp", "\[Equal]", "Hn"}], ")"}]}], ";"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"IEq", "=", 
     RowBox[{"Solve", "[", 
      RowBox[{
       RowBox[{
        RowBox[{"ChangeMomentum", "[", 
         RowBox[{"[", "1", "]"}], "]"}], "&&", 
        RowBox[{"ChangeMomentum", "[", 
         RowBox[{"[", "2", "]"}], "]"}], "&&", 
        RowBox[{"ChangeMomentum", "[", 
         RowBox[{"[", "3", "]"}], "]"}], "&&", "ConserveH"}], ",", 
       RowBox[{"{", 
        RowBox[{
        "\[Phi]3dq1p", ",", "\[Phi]3dq2p", ",", "\[Phi]3dq3p", ",", 
         "\[Lambda]"}], "}"}]}], "]"}]}], ";"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"\[Phi]3dq1p", "=", 
     RowBox[{
      RowBox[{"IEq", "[", 
       RowBox[{"[", 
        RowBox[{"1", ",", "1", ",", "2"}], "]"}], "]"}], "*", "c"}]}], ";"}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"\[Phi]3dq2p", "=", 
     RowBox[{
      RowBox[{"IEq", "[", 
       RowBox[{"[", 
        RowBox[{"1", ",", "2", ",", "2"}], "]"}], "]"}], "*", "c"}]}], ";"}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"\[Phi]3dq3p", "=", 
     RowBox[{"IEq", "[", 
      RowBox[{"[", 
       RowBox[{"1", ",", "3", ",", "2"}], "]"}], "]"}]}], ";"}], 
   "\[IndentingNewLine]", "\[IndentingNewLine]", 
   RowBox[{"(*", " ", 
    RowBox[{
    "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", 
     "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", 
     "##"}], " ", "*)"}], "\[IndentingNewLine]", 
   RowBox[{"(*", " ", "Solution", " ", "*)"}], "\[IndentingNewLine]", 
   RowBox[{"(*", " ", 
    RowBox[{
    "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", 
     "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", 
     "##"}], " ", "*)"}], "\[IndentingNewLine]", "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"InitCon", "=", 
     RowBox[{"{", "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{
        RowBox[{"xSim", "[", "tRelease", "]"}], "\[Equal]", "xAtRelease"}], 
       ",", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"ySim", "[", "tRelease", "]"}], "\[Equal]", "yAtRelease"}], 
       ",", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"\[Theta]Sim", "[", "tRelease", "]"}], "\[Equal]", 
        "\[Theta]AtRelease"}], ",", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{
         RowBox[{"xSim", "'"}], "[", "tRelease", "]"}], "\[Equal]", 
        "xdotAtRelease"}], ",", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{
         RowBox[{"ySim", "'"}], "[", "tRelease", "]"}], "\[Equal]", 
        "ydotAtRelease"}], ",", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{
         RowBox[{"\[Theta]Sim", "'"}], "[", "tRelease", "]"}], "\[Equal]", 
        "\[Theta]dotAtRelease"}]}], "\[IndentingNewLine]", "}"}]}], ";"}], 
   "\[IndentingNewLine]", "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"newxdot", "=", "0"}], ";"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"newydot", "=", "0"}], ";"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"new\[Theta]dot", "=", "0"}], ";"}], "\[IndentingNewLine]", 
   RowBox[{"(*", " ", 
    RowBox[{"TODO", ":", " ", 
     RowBox[{
     "better", " ", "options", " ", "to", " ", "avoid", " ", "missing", " ", 
      RowBox[{"(", 
       RowBox[{
        RowBox[{
         RowBox[{
          RowBox[{"ex", ".", " ", "\"\<back rim\>\""}], " ", "printed", " ", 
          "when", " ", "tmax"}], "=", "5"}], ",", " ", 
        RowBox[{
        "but", " ", "no", " ", "change", " ", "in", " ", "direction"}]}], 
       ")"}]}]}], " ", "*)"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"sol", "=", 
     RowBox[{"NDSolve", "[", 
      RowBox[{
       RowBox[{"Join", "[", 
        RowBox[{
        "EL", ",", "InitCon", ",", "\[IndentingNewLine]", 
         "\[IndentingNewLine]", 
         RowBox[{"(*", " ", 
          RowBox[{"impact", " ", "with", " ", "ground"}], " ", "*)"}], 
         "\[IndentingNewLine]", 
         RowBox[{"{", 
          RowBox[{"WhenEvent", "[", 
           RowBox[{
            RowBox[{
             RowBox[{
              RowBox[{"ySim", "[", "t", "]"}], "-", "rBall"}], "\[Equal]", 
             "0"}], ",", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"Print", "[", "\"\<Ground Impact\>\"", "]"}], ",", 
              RowBox[{"end", "=", "t"}], ",", 
              RowBox[{"Print", "[", "end", "]"}], ",", 
              RowBox[{"newxdot", "=", 
               RowBox[{"N", "[", "\[Phi]0dq1p", "]"}]}], ",", 
              RowBox[{"newydot", "=", 
               RowBox[{"N", "[", "\[Phi]0dq2p", "]"}]}], ",", 
              RowBox[{"new\[Theta]dot", "=", 
               RowBox[{"N", "[", "\[Phi]0dq3p", "]"}]}], ",", 
              RowBox[{
               RowBox[{
                RowBox[{"xSim", "'"}], "[", "t", "]"}], "\[Rule]", 
               "newxdot"}], ",", 
              RowBox[{
               RowBox[{
                RowBox[{"ySim", "'"}], "[", "t", "]"}], "\[Rule]", 
               "newydot"}], ",", 
              RowBox[{
               RowBox[{
                RowBox[{"\[Theta]Sim", "'"}], "[", "t", "]"}], "\[Rule]", 
               "new\[Theta]dot"}]}], "}"}], ",", 
            RowBox[{
            "\"\<DetectionMethod\>\"", "\[Rule]", "\"\<Interpolation\>\""}]}],
            "]"}], "}"}], ",", "\[IndentingNewLine]", "\[IndentingNewLine]", 
         RowBox[{"(*", " ", 
          RowBox[{
           RowBox[{"impact", " ", "with", " ", "backboard"}], " ", "-", " ", 
           RowBox[{"TODO", ":", " ", 
            RowBox[{"improve", " ", "y", " ", "triggers"}]}]}], "*)"}], 
         "\[IndentingNewLine]", 
         RowBox[{"{", 
          RowBox[{"WhenEvent", "[", 
           RowBox[{
            RowBox[{
             RowBox[{
              RowBox[{
               RowBox[{"xSim", "[", "t", "]"}], "-", "rBall", "-", 
               RowBox[{"coordBackboardBottom", "[", 
                RowBox[{"[", "1", "]"}], "]"}]}], "==", "0"}], "&&", 
             RowBox[{
              RowBox[{"ySim", "[", "t", "]"}], ">", 
              RowBox[{"coordBackboardBottom", "[", 
               RowBox[{"[", "2", "]"}], "]"}]}], "&&", 
             RowBox[{
              RowBox[{"ySim", "[", "t", "]"}], "<", 
              RowBox[{"coordBackboardTop", "[", 
               RowBox[{"[", "2", "]"}], "]"}]}]}], ",", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"Print", "[", "\"\<Backboard!\>\"", "]"}], ",", 
              RowBox[{"end", "=", "t"}], ",", 
              RowBox[{"Print", "[", "end", "]"}], ",", 
              RowBox[{"newxdot", "=", 
               RowBox[{"N", "[", "\[Phi]1dq1p", "]"}]}], ",", 
              RowBox[{"newydot", "=", 
               RowBox[{"N", "[", "\[Phi]1dq2p", "]"}]}], ",", 
              RowBox[{"new\[Theta]dot", "=", 
               RowBox[{"N", "[", "\[Phi]1dq3p", "]"}]}], ",", 
              RowBox[{
               RowBox[{
                RowBox[{"xSim", "'"}], "[", "t", "]"}], "\[Rule]", 
               "newxdot"}], ",", 
              RowBox[{
               RowBox[{
                RowBox[{"ySim", "'"}], "[", "t", "]"}], "\[Rule]", 
               "newydot"}], ",", 
              RowBox[{
               RowBox[{
                RowBox[{"\[Theta]Sim", "'"}], "[", "t", "]"}], "\[Rule]", 
               "new\[Theta]dot"}]}], "}"}], ",", 
            RowBox[{
            "\"\<DetectionMethod\>\"", "\[Rule]", "\"\<Interpolation\>\""}]}],
            "]"}], "}"}], ",", "\[IndentingNewLine]", "\[IndentingNewLine]", 
         RowBox[{"(*", " ", 
          RowBox[{"impact", " ", "with", " ", "left", " ", "rim"}], " ", 
          "*)"}], "\[IndentingNewLine]", 
         RowBox[{"{", 
          RowBox[{"WhenEvent", "[", 
           RowBox[{
            RowBox[{
             RowBox[{
              RowBox[{"Distance2D", "[", 
               RowBox[{
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"xSim", "[", "t", "]"}], ",", 
                  RowBox[{"ySim", "[", "t", "]"}]}], "}"}], ",", 
                "coordLeftRim"}], "]"}], "-", 
              RowBox[{"RimThickness", "/", "2"}], "-", "rBall"}], "\[Equal]", 
             "0"}], ",", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"Print", "[", "\"\<Front Rim Impact!\>\"", "]"}], ",", 
              RowBox[{"end", "=", "t"}], ",", 
              RowBox[{"Print", "[", "end", "]"}], ",", 
              RowBox[{"newxdot", "=", 
               RowBox[{"N", "[", "\[Phi]2dq1p", "]"}]}], ",", 
              RowBox[{"newydot", "=", 
               RowBox[{"N", "[", "\[Phi]2dq2p", "]"}]}], ",", 
              RowBox[{"new\[Theta]dot", "=", 
               RowBox[{"N", "[", "\[Phi]2dq3p", "]"}]}], ",", 
              RowBox[{
               RowBox[{
                RowBox[{"xSim", "'"}], "[", "t", "]"}], "\[Rule]", 
               "newxdot"}], ",", 
              RowBox[{
               RowBox[{
                RowBox[{"ySim", "'"}], "[", "t", "]"}], "\[Rule]", 
               "newydot"}], ",", 
              RowBox[{
               RowBox[{
                RowBox[{"\[Theta]Sim", "'"}], "[", "t", "]"}], "\[Rule]", 
               "new\[Theta]dot"}], ",", 
              RowBox[{"Print", "[", "newxdot", "]"}], ",", 
              RowBox[{"Print", "[", "newydot", "]"}]}], "}"}], ",", 
            "\[IndentingNewLine]", 
            RowBox[{
            "\"\<DetectionMethod\>\"", "\[Rule]", "\"\<Interpolation\>\""}], 
            ",", "\[IndentingNewLine]", 
            RowBox[{"\"\<IntegrateEvent\>\"", "\[Rule]", "True"}], ",", 
            "\[IndentingNewLine]", 
            RowBox[{"\"\<LocationMethod\>\"", "\[Rule]", 
             RowBox[{"{", 
              RowBox[{"\"\<Brent\>\"", ",", 
               RowBox[{"AccuracyGoal", "\[Rule]", "12"}], ",", 
               RowBox[{"PrecisionGoal", "\[Rule]", "12"}]}], "}"}]}]}], "]"}],
           "}"}], ",", "\[IndentingNewLine]", "\[IndentingNewLine]", 
         RowBox[{"(*", " ", 
          RowBox[{"impact", " ", "with", " ", "right", " ", "rim"}], " ", 
          "*)"}], "\[IndentingNewLine]", 
         RowBox[{"{", 
          RowBox[{"WhenEvent", "[", 
           RowBox[{
            RowBox[{
             RowBox[{
              RowBox[{"Distance2D", "[", 
               RowBox[{
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"xSim", "[", "t", "]"}], ",", 
                  RowBox[{"ySim", "[", "t", "]"}]}], "}"}], ",", 
                "coordRightRim"}], "]"}], "-", 
              RowBox[{"RimThickness", "/", "2"}], "-", "rBall"}], "\[Equal]", 
             "0"}], ",", "\[IndentingNewLine]", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"Print", "[", "\"\<Back Rim Impact!\>\"", "]"}], ",", 
              RowBox[{"end", "=", "t"}], ",", 
              RowBox[{"Print", "[", "end", "]"}], ",", 
              RowBox[{"newxdot", "=", 
               RowBox[{"N", "[", "\[Phi]3dq1p", "]"}]}], ",", 
              RowBox[{"newydot", "=", 
               RowBox[{"N", "[", "\[Phi]3dq2p", "]"}]}], ",", 
              RowBox[{"new\[Theta]dot", "=", 
               RowBox[{"N", "[", "\[Phi]3dq3p", "]"}]}], ",", 
              RowBox[{
               RowBox[{
                RowBox[{"xSim", "'"}], "[", "t", "]"}], "\[Rule]", 
               "newxdot"}], ",", 
              RowBox[{
               RowBox[{
                RowBox[{"ySim", "'"}], "[", "t", "]"}], "\[Rule]", 
               "newydot"}], ",", 
              RowBox[{
               RowBox[{
                RowBox[{"\[Theta]Sim", "'"}], "[", "t", "]"}], "\[Rule]", 
               "new\[Theta]dot"}], ",", 
              RowBox[{"Print", "[", "newxdot", "]"}], ",", 
              RowBox[{"Print", "[", "newydot", "]"}]}], "}"}], ",", 
            "\[IndentingNewLine]", 
            RowBox[{
            "\"\<DetectionMethod\>\"", "\[Rule]", "\"\<Interpolation\>\""}], 
            ",", "\[IndentingNewLine]", 
            RowBox[{"\"\<LocationMethod\>\"", "\[Rule]", 
             RowBox[{"{", 
              RowBox[{"\"\<Brent\>\"", ",", 
               RowBox[{"AccuracyGoal", "\[Rule]", "12"}], ",", 
               RowBox[{"PrecisionGoal", "\[Rule]", "12"}]}], "}"}]}]}], "]"}],
           "}"}]}], "\[IndentingNewLine]", "\[IndentingNewLine]", "]"}], ",", 
       
       RowBox[{"{", 
        RowBox[{"xSim", ",", "ySim", ",", "\[Theta]Sim"}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{"t", ",", "tRelease", ",", "tMax"}], "}"}]}], "]"}]}], ";"}], 
   "\[IndentingNewLine]", "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"xsolSim", "=", 
     RowBox[{"First", "[", 
      RowBox[{
       RowBox[{"xSim", "[", "t", "]"}], "/.", "sol"}], "]"}]}], ";"}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"ysolSim", "=", 
     RowBox[{"First", "[", 
      RowBox[{
       RowBox[{"ySim", "[", "t", "]"}], "/.", "sol"}], "]"}]}], ";"}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"\[Theta]solSim", "=", 
     RowBox[{"First", "[", 
      RowBox[{
       RowBox[{"\[Theta]Sim", "[", "t", "]"}], "/.", "sol"}], "]"}]}], ";"}], 
   "\[IndentingNewLine]", "\[IndentingNewLine]", 
   RowBox[{"(*", " ", 
    RowBox[{
    "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", 
     "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", 
     "##"}], " ", "*)"}], "\[IndentingNewLine]", 
   RowBox[{"(*", " ", 
    RowBox[{"Coordinates", " ", "and", " ", "Graphics", " ", "Primatives"}], 
    " ", "*)"}], "\[IndentingNewLine]", 
   RowBox[{"(*", " ", 
    RowBox[{
    "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", 
     "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", 
     "##"}], " ", "*)"}], "\[IndentingNewLine]", "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{
     RowBox[{"coordBallSim", "[", "time_", "]"}], ":=", 
     RowBox[{
      RowBox[{"(", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{
          RowBox[{"gBallSim", "[", 
           RowBox[{"[", 
            RowBox[{"1", ",", "3"}], "]"}], "]"}], ",", 
          RowBox[{"gBallSim", "[", 
           RowBox[{"[", 
            RowBox[{"2", ",", "3"}], "]"}], "]"}]}], "}"}], "/.", 
        RowBox[{"{", 
         RowBox[{
          RowBox[{
           RowBox[{"\[Theta]0", "[", "t", "]"}], "\[Rule]", "\[Theta]0sol"}], 
          ",", 
          RowBox[{
           RowBox[{"xSim", "[", "t", "]"}], "\[Rule]", "xsolSim"}], ",", 
          RowBox[{
           RowBox[{"ySim", "[", "t", "]"}], "\[Rule]", "ysolSim"}], ",", 
          RowBox[{
           RowBox[{"\[Theta]Sim", "[", "t", "]"}], "\[Rule]", 
           "\[Theta]solSim"}]}], "}"}]}], ")"}], "/.", 
      RowBox[{"t", "\[Rule]", "time"}]}]}], ";"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{
     RowBox[{"coordLine1Sim", "[", "time_", "]"}], ":=", 
     RowBox[{
      RowBox[{"(", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{
          RowBox[{"gPoint1Sim", "[", 
           RowBox[{"[", 
            RowBox[{"1", ",", "3"}], "]"}], "]"}], ",", 
          RowBox[{"gPoint1Sim", "[", 
           RowBox[{"[", 
            RowBox[{"2", ",", "3"}], "]"}], "]"}]}], "}"}], "/.", 
        RowBox[{"{", 
         RowBox[{
          RowBox[{
           RowBox[{"\[Theta]0", "[", "t", "]"}], "\[Rule]", "\[Theta]0sol"}], 
          ",", 
          RowBox[{
           RowBox[{"xSim", "[", "t", "]"}], "\[Rule]", "xsolSim"}], ",", 
          RowBox[{
           RowBox[{"ySim", "[", "t", "]"}], "\[Rule]", "ysolSim"}], ",", 
          RowBox[{
           RowBox[{"\[Theta]Sim", "[", "t", "]"}], "\[Rule]", 
           "\[Theta]solSim"}]}], "}"}]}], ")"}], "/.", 
      RowBox[{"t", "\[Rule]", "time"}]}]}], ";"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{
     RowBox[{"coordLine2Sim", "[", "time_", "]"}], ":=", 
     RowBox[{
      RowBox[{"(", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{
          RowBox[{"gPoint2Sim", "[", 
           RowBox[{"[", 
            RowBox[{"1", ",", "3"}], "]"}], "]"}], ",", 
          RowBox[{"gPoint2Sim", "[", 
           RowBox[{"[", 
            RowBox[{"2", ",", "3"}], "]"}], "]"}]}], "}"}], "/.", 
        RowBox[{"{", 
         RowBox[{
          RowBox[{
           RowBox[{"\[Theta]0", "[", "t", "]"}], "\[Rule]", "\[Theta]0sol"}], 
          ",", 
          RowBox[{
           RowBox[{"xSim", "[", "t", "]"}], "\[Rule]", "xsolSim"}], ",", 
          RowBox[{
           RowBox[{"ySim", "[", "t", "]"}], "\[Rule]", "ysolSim"}], ",", 
          RowBox[{
           RowBox[{"\[Theta]Sim", "[", "t", "]"}], "\[Rule]", 
           "\[Theta]solSim"}]}], "}"}]}], ")"}], "/.", 
      RowBox[{"t", "\[Rule]", "time"}]}]}], ";"}], "\[IndentingNewLine]", 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"graphicBallSim", "=", 
     RowBox[{"Circle", "[", 
      RowBox[{
       RowBox[{"coordBallSim", "[", "t", "]"}], ",", "rBall"}], "]"}]}], 
    ";"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"graphicLineSim", "=", 
     RowBox[{"Line", "[", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{"coordLine1Sim", "[", "t", "]"}], ",", 
        RowBox[{"coordLine2Sim", "[", "t", "]"}]}], "}"}], "]"}]}], ";"}], 
   "\[IndentingNewLine]", "\[IndentingNewLine]", 
   RowBox[{"(*", " ", 
    RowBox[{
    "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", 
     "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", 
     "##"}], " ", "*)"}], "\[IndentingNewLine]", 
   RowBox[{"(*", " ", 
    RowBox[{"Plots", " ", "and", " ", "Animation"}], " ", "*)"}], 
   "\[IndentingNewLine]", 
   RowBox[{"(*", " ", 
    RowBox[{
    "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", 
     "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", 
     "##"}], " ", "*)"}], "\[IndentingNewLine]", "\[IndentingNewLine]", 
   RowBox[{"(*", " ", 
    RowBox[{"Mathematica", " ", "Window", " ", "Animation"}], " ", "*)"}], 
   "\[IndentingNewLine]", 
   RowBox[{"Animate", "[", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"Show", "[", "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"Graphics", "[", 
        RowBox[{"{", "\[IndentingNewLine]", 
         RowBox[{
         "Black", ",", "graphicBackboard", ",", "\[IndentingNewLine]", 
          "Black", ",", "graphicLeftRim", ",", "\[IndentingNewLine]", "Black",
           ",", "graphicRightRim", ",", "\[IndentingNewLine]", "Black", ",", 
          RowBox[{"graphicL1", "/.", 
           RowBox[{"t", "\[Rule]", "time"}]}], ",", "\[IndentingNewLine]", 
          "Black", ",", 
          RowBox[{"graphicBallSim", "/.", 
           RowBox[{"t", "\[Rule]", "time"}]}], ",", "\[IndentingNewLine]", 
          "Black", ",", 
          RowBox[{"graphicLineSim", "/.", 
           RowBox[{"t", "\[Rule]", "time"}]}]}], "\[IndentingNewLine]", "}"}],
         "]"}], ",", "\[IndentingNewLine]", 
       RowBox[{"PlotRange", "\[Rule]", 
        RowBox[{"{", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{
            RowBox[{"-", "6"}], ",", "2"}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"-", "1"}], ",", "4"}], "}"}]}], "}"}]}], ",", 
       "\[IndentingNewLine]", 
       RowBox[{"Axes", "\[Rule]", "True"}]}], "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{"ImageSize", "\[Rule]", "Full"}], "*)"}], 
      "\[IndentingNewLine]", "]"}], ",", "\[IndentingNewLine]", 
     RowBox[{"{", 
      RowBox[{"time", ",", "tRelease", ",", "tMax"}], "}"}], ",", 
     "\[IndentingNewLine]", 
     RowBox[{"AnimationRunning", "\[Rule]", "False"}], ",", 
     "\[IndentingNewLine]", 
     RowBox[{"AnimationRate", "\[Rule]", "1.0"}]}], "\[IndentingNewLine]", 
    RowBox[{"(*", 
     RowBox[{"ContentSize", "\[Rule]", 
      RowBox[{"{", 
       RowBox[{"1000", ",", "800"}], "}"}]}], "*)"}], "\[IndentingNewLine]", 
    "]"}]}]}]], "Input",
 CellChangeTimes->{{3.717967050813089*^9, 3.7179671021363707`*^9}, {
   3.7179675899197903`*^9, 3.717967590045076*^9}, {3.71796770638027*^9, 
   3.717967721376644*^9}, 3.718031611596252*^9, {3.718031728442572*^9, 
   3.7180317358837*^9}, {3.7180318225240097`*^9, 3.718031934495697*^9}, {
   3.718031967227305*^9, 3.718031994448341*^9}, {3.7180321982030077`*^9, 
   3.71803226386904*^9}, {3.7180323414103527`*^9, 3.718032417824288*^9}, {
   3.7180324555208387`*^9, 3.718032522730071*^9}, {3.7180325856196327`*^9, 
   3.718032631873171*^9}, {3.718032662323488*^9, 3.7180327873490753`*^9}, {
   3.718033179113411*^9, 3.718033290034854*^9}, {3.7180333388168917`*^9, 
   3.718033368129698*^9}, {3.718392993286581*^9, 3.7183929969315767`*^9}, {
   3.71839414344621*^9, 3.718394152837554*^9}, {3.718394218567956*^9, 
   3.718394219257559*^9}, {3.718394395382371*^9, 3.7183943989109087`*^9}, {
   3.71839445455807*^9, 3.718394457186504*^9}, {3.7183945198769207`*^9, 
   3.718394563620427*^9}, {3.7183946175132637`*^9, 3.71839462606089*^9}, {
   3.7183946898340178`*^9, 3.718394725107851*^9}, {3.718394790387314*^9, 
   3.718394791315721*^9}, {3.718394903783937*^9, 3.718394906792212*^9}, {
   3.7183949410843267`*^9, 3.718394944817658*^9}, {3.71839498471591*^9, 
   3.718395015239952*^9}, {3.718395224462384*^9, 3.718395224476591*^9}, 
   3.718460215871765*^9, 3.718460286638915*^9, {3.7184603228285017`*^9, 
   3.7184603550813417`*^9}, {3.7184603901658487`*^9, 
   3.7184604185039473`*^9}, {3.718460603324519*^9, 3.718460604887546*^9}, {
   3.718460771945812*^9, 3.718460778583398*^9}, {3.71846082367062*^9, 
   3.718460895353693*^9}, {3.718460927058712*^9, 3.71846102735133*^9}, {
   3.718461063327194*^9, 3.718461069542513*^9}}],

Cell[BoxData[
 TemplateBox[{
  "Solve","ratnz",
   "\"Solve was unable to solve the system with inexact coefficients. The \
answer was obtained by solving a corresponding exact system and numericizing \
the result.\"",2,123,2,32650435922085047981,"Local"},
  "MessageTemplate"]], "Message", "MSG",
 CellChangeTimes->{
  3.7180320560097647`*^9, 3.718394120838751*^9, {3.7183942967293377`*^9, 
   3.7183943132368307`*^9}, 3.718394399669787*^9, 3.718394474169498*^9, 
   3.71839458351856*^9, {3.718394892426189*^9, 3.718394921016163*^9}, 
   3.718394959997048*^9, 3.718395030095675*^9, 3.718395103239149*^9, 
   3.718395254345413*^9, 3.7184599739660254`*^9, 3.7184601796719227`*^9, {
   3.718460591998254*^9, 3.7184606206864853`*^9}, 3.718460676954262*^9, 
   3.7184607949034443`*^9, 3.7184610513769093`*^9}],

Cell[BoxData[
 TemplateBox[{
  "Solve","ratnz",
   "\"Solve was unable to solve the system with inexact coefficients. The \
answer was obtained by solving a corresponding exact system and numericizing \
the result.\"",2,132,3,32650435922085047981,"Local"},
  "MessageTemplate"]], "Message", "MSG",
 CellChangeTimes->{
  3.7180320560097647`*^9, 3.718394120838751*^9, {3.7183942967293377`*^9, 
   3.7183943132368307`*^9}, 3.718394399669787*^9, 3.718394474169498*^9, 
   3.71839458351856*^9, {3.718394892426189*^9, 3.718394921016163*^9}, 
   3.718394959997048*^9, 3.718395030095675*^9, 3.718395103239149*^9, 
   3.718395254345413*^9, 3.7184599739660254`*^9, 3.7184601796719227`*^9, {
   3.718460591998254*^9, 3.7184606206864853`*^9}, 3.718460676954262*^9, 
   3.7184607949034443`*^9, 3.718461051397402*^9}],

Cell[BoxData[
 TemplateBox[{
  "NDSolve","deqn",
   "\"Equation or list of equations expected instead of \
\\!\\(\\*RowBox[{RowBox[{\\\"WhenEvent\\\", \\\"[\\\", \
RowBox[{RowBox[{RowBox[{RowBox[{RowBox[{\\\"xSim\\\", \\\"[\\\", \\\"t\\\", \
\\\"]\\\"}], \\\"-\\\", \\\"rBall\\\", \\\"-\\\", \
RowBox[{\\\"coordBackboardBottom\\\", \\\"\[LeftDoubleBracket]\\\", \
\\\"1\\\", \\\"\[RightDoubleBracket]\\\"}]}], \\\"\[Equal]\\\", \\\"0\\\"}], \
\\\"&&\\\", RowBox[{RowBox[{\\\"ySim\\\", \\\"[\\\", \\\"t\\\", \\\"]\\\"}], \
\\\">\\\", RowBox[{\\\"coordBackboardBottom\\\", \
\\\"\[LeftDoubleBracket]\\\", \\\"2\\\", \\\"\[RightDoubleBracket]\\\"}]}], \
\\\"&&\\\", RowBox[{RowBox[{\\\"ySim\\\", \\\"[\\\", \\\"t\\\", \\\"]\\\"}], \
\\\"<\\\", RowBox[{\\\"coordBackboardTop\\\", \\\"\[LeftDoubleBracket]\\\", \
\\\"2\\\", \\\"\[RightDoubleBracket]\\\"}]}]}], \\\",\\\", RowBox[{\\\"{\\\", \
RowBox[{RowBox[{\\\"Print\\\", \\\"[\\\", \\\"\\\\\\\"Backboard!\\\\\\\"\\\", \
\\\"]\\\"}], \\\",\\\", RowBox[{\\\"end\\\", \\\"=\\\", \\\"t\\\"}], \
\\\",\\\", RowBox[{\\\"Print\\\", \\\"[\\\", \\\"end\\\", \\\"]\\\"}], \
\\\",\\\", RowBox[{\\\"newxdot\\\", \\\"=\\\", RowBox[{\\\"N\\\", \\\"[\\\", \
\\\"\[Phi]1dq1p\\\", \\\"]\\\"}]}], \\\",\\\", RowBox[{\\\"newydot\\\", \\\"=\
\\\", RowBox[{\\\"N\\\", \\\"[\\\", \\\"\[Phi]1dq2p\\\", \\\"]\\\"}]}], \\\",\
\\\", RowBox[{\\\"new\[Theta]dot\\\", \\\"=\\\", RowBox[{\\\"N\\\", \
\\\"[\\\", \\\"\[Phi]1dq3p\\\", \\\"]\\\"}]}], \\\",\\\", \
RowBox[{RowBox[{SuperscriptBox[\\\"xSim\\\", \\\"\[Prime]\\\", \
Rule[MultilineFunction, None]], \\\"[\\\", \\\"t\\\", \\\"]\\\"}], \
\\\"\[Rule]\\\", \\\"newxdot\\\"}], \\\",\\\", \
RowBox[{RowBox[{SuperscriptBox[\\\"ySim\\\", \\\"\[Prime]\\\", \
Rule[MultilineFunction, None]], \\\"[\\\", \\\"t\\\", \\\"]\\\"}], \
\\\"\[Rule]\\\", \\\"newydot\\\"}], \\\",\\\", \
RowBox[{RowBox[{SuperscriptBox[\\\"\[Theta]Sim\\\", \\\"\[Prime]\\\", \
Rule[MultilineFunction, None]], \\\"[\\\", \\\"t\\\", \\\"]\\\"}], \
\\\"\[Rule]\\\", \\\"new\[Theta]dot\\\"}]}], \\\"}\\\"}], \\\",\\\", RowBox[{\
\\\"\\\\\\\"DetectionMethod\\\\\\\"\\\", \\\"\[Rule]\\\", \
\\\"\\\\\\\"Interpolation\\\\\\\"\\\"}]}], \\\"]\\\"}], \\\" \\\", RowBox[{\\\
\"\[LeftSkeleton]\\\", \\\"1\\\", \\\"\[RightSkeleton]\\\"}]}]\\) in the \
first argument \\!\\(\\*RowBox[{\\\"{\\\", \
RowBox[{RowBox[{RowBox[{SuperscriptBox[\\\"ySim\\\", \
\\\"\[Prime]\[Prime]\\\", Rule[MultilineFunction, None]], \\\"[\\\", \
\\\"t\\\", \\\"]\\\"}], \\\"\[Equal]\\\", RowBox[{\\\"-\\\", \
\\\"9.8`\\\"}]}], \\\",\\\", RowBox[{RowBox[{SuperscriptBox[\\\"xSim\\\", \
\\\"\[Prime]\[Prime]\\\", Rule[MultilineFunction, None]], \\\"[\\\", \
\\\"t\\\", \\\"]\\\"}], \\\"\[Equal]\\\", \\\"0.`\\\"}], \\\",\\\", \
RowBox[{\\\"\[LeftSkeleton]\\\", \\\"9\\\", \\\"\[RightSkeleton]\\\"}], \\\",\
\\\", RowBox[{\\\"WhenEvent\\\", \\\"[\\\", \
RowBox[{RowBox[{RowBox[{RowBox[{\\\"Distance2D\\\", \\\"[\\\", \
RowBox[{RowBox[{\\\"{\\\", RowBox[{RowBox[{\\\"xSim\\\", \\\"[\\\", \
\\\"t\\\", \\\"]\\\"}], \\\",\\\", RowBox[{\\\"ySim\\\", \\\"[\\\", \
\\\"t\\\", \\\"]\\\"}]}], \\\"}\\\"}], \\\",\\\", \\\"coordRightRim\\\"}], \\\
\"]\\\"}], \\\"-\\\", FractionBox[\\\"RimThickness\\\", \\\"2\\\"], \
\\\"-\\\", \\\"rBall\\\"}], \\\"\[Equal]\\\", \\\"0\\\"}], \\\",\\\", \
RowBox[{\\\"{\\\", RowBox[{RowBox[{\\\"Print\\\", \\\"[\\\", \\\"\\\\\\\"Back \
Rim Impact!\\\\\\\"\\\", \\\"]\\\"}], \\\",\\\", RowBox[{\\\"end\\\", \\\"=\\\
\", \\\"t\\\"}], \\\",\\\", RowBox[{\\\"Print\\\", \\\"[\\\", \\\"end\\\", \\\
\"]\\\"}], \\\",\\\", RowBox[{\\\"newxdot\\\", \\\"=\\\", RowBox[{\\\"N\\\", \
\\\"[\\\", \\\"\[Phi]3dq1p\\\", \\\"]\\\"}]}], \\\",\\\", RowBox[{\\\"newydot\
\\\", \\\"=\\\", RowBox[{\\\"N\\\", \\\"[\\\", \\\"\[Phi]3dq2p\\\", \
\\\"]\\\"}]}], \\\",\\\", RowBox[{\\\"new\[Theta]dot\\\", \\\"=\\\", RowBox[{\
\\\"N\\\", \\\"[\\\", \\\"\[Phi]3dq3p\\\", \\\"]\\\"}]}], \\\",\\\", \
RowBox[{RowBox[{SuperscriptBox[\\\"xSim\\\", \\\"\[Prime]\\\", \
Rule[MultilineFunction, None]], \\\"[\\\", \\\"t\\\", \\\"]\\\"}], \
\\\"\[Rule]\\\", \\\"newxdot\\\"}], \\\",\\\", \
RowBox[{RowBox[{SuperscriptBox[\\\"ySim\\\", \\\"\[Prime]\\\", \
Rule[MultilineFunction, None]], \\\"[\\\", \\\"t\\\", \\\"]\\\"}], \
\\\"\[Rule]\\\", \\\"newydot\\\"}], \\\",\\\", \
RowBox[{RowBox[{SuperscriptBox[\\\"\[Theta]Sim\\\", \\\"\[Prime]\\\", \
Rule[MultilineFunction, None]], \\\"[\\\", \\\"t\\\", \\\"]\\\"}], \
\\\"\[Rule]\\\", \\\"new\[Theta]dot\\\"}], \\\",\\\", RowBox[{\\\"Print\\\", \
\\\"[\\\", \\\"newxdot\\\", \\\"]\\\"}], \\\",\\\", RowBox[{\\\"Print\\\", \\\
\"[\\\", \\\"newydot\\\", \\\"]\\\"}]}], \\\"}\\\"}], \\\",\\\", RowBox[{\\\"\
\\\\\\\"DetectionMethod\\\\\\\"\\\", \\\"\[Rule]\\\", \
\\\"\\\\\\\"Interpolation\\\\\\\"\\\"}], \\\",\\\", \
RowBox[{\\\"\\\\\\\"LocationMethod\\\\\\\"\\\", \\\"\[Rule]\\\", \
RowBox[{\\\"{\\\", RowBox[{\\\"\\\\\\\"Brent\\\\\\\"\\\", \\\",\\\", RowBox[{\
\\\"AccuracyGoal\\\", \\\"\[Rule]\\\", \\\"12\\\"}], \\\",\\\", \
RowBox[{\\\"PrecisionGoal\\\", \\\"\[Rule]\\\", \\\"12\\\"}]}], \
\\\"}\\\"}]}]}], \\\"]\\\"}]}], \\\"}\\\"}]\\).\"",2,158,4,
   32650435922085047981,"Local"},
  "MessageTemplate"]], "Message", "MSG",
 CellChangeTimes->{
  3.7180320560097647`*^9, 3.718394120838751*^9, {3.7183942967293377`*^9, 
   3.7183943132368307`*^9}, 3.718394399669787*^9, 3.718394474169498*^9, 
   3.71839458351856*^9, {3.718394892426189*^9, 3.718394921016163*^9}, 
   3.718394959997048*^9, 3.718395030095675*^9, 3.718395103239149*^9, 
   3.718395254345413*^9, 3.7184599739660254`*^9, 3.7184601796719227`*^9, {
   3.718460591998254*^9, 3.7184606206864853`*^9}, 3.718460676954262*^9, 
   3.7184607949034443`*^9, 3.71846105175956*^9}],

Cell[BoxData[
 TemplateBox[{
  "NDSolve","deqn",
   "\"Equation or list of equations expected instead of \
\\!\\(\\*RowBox[{RowBox[{\\\"WhenEvent\\\", \\\"[\\\", \
RowBox[{RowBox[{RowBox[{RowBox[{RowBox[{\\\"xSim\\\", \\\"[\\\", \\\"t\\\", \
\\\"]\\\"}], \\\"-\\\", \\\"rBall\\\", \\\"-\\\", \
RowBox[{\\\"coordBackboardBottom\\\", \\\"\[LeftDoubleBracket]\\\", \
\\\"1\\\", \\\"\[RightDoubleBracket]\\\"}]}], \\\"\[Equal]\\\", \\\"0\\\"}], \
\\\"&&\\\", RowBox[{RowBox[{\\\"ySim\\\", \\\"[\\\", \\\"t\\\", \\\"]\\\"}], \
\\\">\\\", RowBox[{\\\"coordBackboardBottom\\\", \
\\\"\[LeftDoubleBracket]\\\", \\\"2\\\", \\\"\[RightDoubleBracket]\\\"}]}], \
\\\"&&\\\", RowBox[{RowBox[{\\\"ySim\\\", \\\"[\\\", \\\"t\\\", \\\"]\\\"}], \
\\\"<\\\", RowBox[{\\\"coordBackboardTop\\\", \\\"\[LeftDoubleBracket]\\\", \
\\\"2\\\", \\\"\[RightDoubleBracket]\\\"}]}]}], \\\",\\\", RowBox[{\\\"{\\\", \
RowBox[{RowBox[{\\\"Print\\\", \\\"[\\\", \\\"\\\\\\\"Backboard!\\\\\\\"\\\", \
\\\"]\\\"}], \\\",\\\", RowBox[{\\\"end\\\", \\\"=\\\", \\\"t\\\"}], \
\\\",\\\", RowBox[{\\\"Print\\\", \\\"[\\\", \\\"end\\\", \\\"]\\\"}], \
\\\",\\\", RowBox[{\\\"newxdot\\\", \\\"=\\\", RowBox[{\\\"N\\\", \\\"[\\\", \
\\\"\[Phi]1dq1p\\\", \\\"]\\\"}]}], \\\",\\\", RowBox[{\\\"newydot\\\", \\\"=\
\\\", RowBox[{\\\"N\\\", \\\"[\\\", \\\"\[Phi]1dq2p\\\", \\\"]\\\"}]}], \\\",\
\\\", RowBox[{\\\"new\[Theta]dot\\\", \\\"=\\\", RowBox[{\\\"N\\\", \
\\\"[\\\", \\\"\[Phi]1dq3p\\\", \\\"]\\\"}]}], \\\",\\\", \
RowBox[{RowBox[{SuperscriptBox[\\\"xSim\\\", \\\"\[Prime]\\\", \
Rule[MultilineFunction, None]], \\\"[\\\", \\\"t\\\", \\\"]\\\"}], \
\\\"\[Rule]\\\", \\\"newxdot\\\"}], \\\",\\\", \
RowBox[{RowBox[{SuperscriptBox[\\\"ySim\\\", \\\"\[Prime]\\\", \
Rule[MultilineFunction, None]], \\\"[\\\", \\\"t\\\", \\\"]\\\"}], \
\\\"\[Rule]\\\", \\\"newydot\\\"}], \\\",\\\", \
RowBox[{RowBox[{SuperscriptBox[\\\"\[Theta]Sim\\\", \\\"\[Prime]\\\", \
Rule[MultilineFunction, None]], \\\"[\\\", \\\"t\\\", \\\"]\\\"}], \
\\\"\[Rule]\\\", \\\"new\[Theta]dot\\\"}]}], \\\"}\\\"}], \\\",\\\", RowBox[{\
\\\"\\\\\\\"DetectionMethod\\\\\\\"\\\", \\\"\[Rule]\\\", \
\\\"\\\\\\\"Interpolation\\\\\\\"\\\"}]}], \\\"]\\\"}], \\\" \\\", RowBox[{\\\
\"\[LeftSkeleton]\\\", \\\"1\\\", \\\"\[RightSkeleton]\\\"}]}]\\) in the \
first argument \\!\\(\\*RowBox[{\\\"{\\\", \
RowBox[{RowBox[{RowBox[{SuperscriptBox[\\\"ySim\\\", \
\\\"\[Prime]\[Prime]\\\", Rule[MultilineFunction, None]], \\\"[\\\", \
\\\"t\\\", \\\"]\\\"}], \\\"\[Equal]\\\", RowBox[{\\\"-\\\", \
\\\"9.8`\\\"}]}], \\\",\\\", RowBox[{RowBox[{SuperscriptBox[\\\"xSim\\\", \
\\\"\[Prime]\[Prime]\\\", Rule[MultilineFunction, None]], \\\"[\\\", \
\\\"t\\\", \\\"]\\\"}], \\\"\[Equal]\\\", \\\"0.`\\\"}], \\\",\\\", \
RowBox[{\\\"\[LeftSkeleton]\\\", \\\"9\\\", \\\"\[RightSkeleton]\\\"}], \\\",\
\\\", RowBox[{\\\"WhenEvent\\\", \\\"[\\\", \
RowBox[{RowBox[{RowBox[{RowBox[{\\\"Distance2D\\\", \\\"[\\\", \
RowBox[{RowBox[{\\\"{\\\", RowBox[{RowBox[{\\\"xSim\\\", \\\"[\\\", \
\\\"t\\\", \\\"]\\\"}], \\\",\\\", RowBox[{\\\"ySim\\\", \\\"[\\\", \
\\\"t\\\", \\\"]\\\"}]}], \\\"}\\\"}], \\\",\\\", \\\"coordRightRim\\\"}], \\\
\"]\\\"}], \\\"-\\\", FractionBox[\\\"RimThickness\\\", \\\"2\\\"], \
\\\"-\\\", \\\"rBall\\\"}], \\\"\[Equal]\\\", \\\"0\\\"}], \\\",\\\", \
RowBox[{\\\"{\\\", RowBox[{RowBox[{\\\"Print\\\", \\\"[\\\", \\\"\\\\\\\"Back \
Rim Impact!\\\\\\\"\\\", \\\"]\\\"}], \\\",\\\", RowBox[{\\\"end\\\", \\\"=\\\
\", \\\"t\\\"}], \\\",\\\", RowBox[{\\\"Print\\\", \\\"[\\\", \\\"end\\\", \\\
\"]\\\"}], \\\",\\\", RowBox[{\\\"newxdot\\\", \\\"=\\\", RowBox[{\\\"N\\\", \
\\\"[\\\", \\\"\[Phi]3dq1p\\\", \\\"]\\\"}]}], \\\",\\\", RowBox[{\\\"newydot\
\\\", \\\"=\\\", RowBox[{\\\"N\\\", \\\"[\\\", \\\"\[Phi]3dq2p\\\", \
\\\"]\\\"}]}], \\\",\\\", RowBox[{\\\"new\[Theta]dot\\\", \\\"=\\\", RowBox[{\
\\\"N\\\", \\\"[\\\", \\\"\[Phi]3dq3p\\\", \\\"]\\\"}]}], \\\",\\\", \
RowBox[{RowBox[{SuperscriptBox[\\\"xSim\\\", \\\"\[Prime]\\\", \
Rule[MultilineFunction, None]], \\\"[\\\", \\\"t\\\", \\\"]\\\"}], \
\\\"\[Rule]\\\", \\\"newxdot\\\"}], \\\",\\\", \
RowBox[{RowBox[{SuperscriptBox[\\\"ySim\\\", \\\"\[Prime]\\\", \
Rule[MultilineFunction, None]], \\\"[\\\", \\\"t\\\", \\\"]\\\"}], \
\\\"\[Rule]\\\", \\\"newydot\\\"}], \\\",\\\", \
RowBox[{RowBox[{SuperscriptBox[\\\"\[Theta]Sim\\\", \\\"\[Prime]\\\", \
Rule[MultilineFunction, None]], \\\"[\\\", \\\"t\\\", \\\"]\\\"}], \
\\\"\[Rule]\\\", \\\"new\[Theta]dot\\\"}], \\\",\\\", RowBox[{\\\"Print\\\", \
\\\"[\\\", \\\"newxdot\\\", \\\"]\\\"}], \\\",\\\", RowBox[{\\\"Print\\\", \\\
\"[\\\", \\\"newydot\\\", \\\"]\\\"}]}], \\\"}\\\"}], \\\",\\\", RowBox[{\\\"\
\\\\\\\"DetectionMethod\\\\\\\"\\\", \\\"\[Rule]\\\", \
\\\"\\\\\\\"Interpolation\\\\\\\"\\\"}], \\\",\\\", \
RowBox[{\\\"\\\\\\\"LocationMethod\\\\\\\"\\\", \\\"\[Rule]\\\", \
RowBox[{\\\"{\\\", RowBox[{\\\"\\\\\\\"Brent\\\\\\\"\\\", \\\",\\\", RowBox[{\
\\\"AccuracyGoal\\\", \\\"\[Rule]\\\", \\\"12\\\"}], \\\",\\\", \
RowBox[{\\\"PrecisionGoal\\\", \\\"\[Rule]\\\", \\\"12\\\"}]}], \
\\\"}\\\"}]}]}], \\\"]\\\"}]}], \\\"}\\\"}]\\).\"",2,158,5,
   32650435922085047981,"Local"},
  "MessageTemplate"]], "Message", "MSG",
 CellChangeTimes->{
  3.7180320560097647`*^9, 3.718394120838751*^9, {3.7183942967293377`*^9, 
   3.7183943132368307`*^9}, 3.718394399669787*^9, 3.718394474169498*^9, 
   3.71839458351856*^9, {3.718394892426189*^9, 3.718394921016163*^9}, 
   3.718394959997048*^9, 3.718395030095675*^9, 3.718395103239149*^9, 
   3.718395254345413*^9, 3.7184599739660254`*^9, 3.7184601796719227`*^9, {
   3.718460591998254*^9, 3.7184606206864853`*^9}, 3.718460676954262*^9, 
   3.7184607949034443`*^9, 3.718461051831653*^9}],

Cell[BoxData[
 TemplateBox[{
  "ReplaceAll","reps",
   "\"\\!\\(\\*RowBox[{\\\"{\\\", RowBox[{\\\"NDSolve\\\", \\\"[\\\", \
RowBox[{RowBox[{\\\"{\\\", \
RowBox[{RowBox[{RowBox[{SuperscriptBox[\\\"ySim\\\", \
\\\"\[Prime]\[Prime]\\\", Rule[MultilineFunction, None]], \\\"[\\\", \
\\\"t\\\", \\\"]\\\"}], \\\"\[Equal]\\\", RowBox[{\\\"-\\\", \
\\\"9.8`\\\"}]}], \\\",\\\", RowBox[{RowBox[{SuperscriptBox[\\\"xSim\\\", \
\\\"\[Prime]\[Prime]\\\", Rule[MultilineFunction, None]], \\\"[\\\", \
\\\"t\\\", \\\"]\\\"}], \\\"\[Equal]\\\", \\\"0.`\\\"}], \\\",\\\", \
RowBox[{\\\"\[LeftSkeleton]\\\", \\\"9\\\", \\\"\[RightSkeleton]\\\"}], \\\",\
\\\", RowBox[{\\\"WhenEvent\\\", \\\"[\\\", \
RowBox[{RowBox[{RowBox[{RowBox[{\\\"Distance2D\\\", \\\"[\\\", \
RowBox[{RowBox[{\\\"{\\\", RowBox[{\\\"\[LeftSkeleton]\\\", \\\"2\\\", \\\"\
\[RightSkeleton]\\\"}], \\\"}\\\"}], \\\",\\\", \\\"coordRightRim\\\"}], \
\\\"]\\\"}], \\\"-\\\", RowBox[{\\\"Times\\\", \\\"[\\\", RowBox[{\\\"\
\[LeftSkeleton]\\\", \\\"2\\\", \\\"\[RightSkeleton]\\\"}], \\\"]\\\"}], \
\\\"-\\\", \\\"rBall\\\"}], \\\"\[Equal]\\\", \\\"0\\\"}], \\\",\\\", \
RowBox[{\\\"{\\\", RowBox[{RowBox[{\\\"Print\\\", \\\"[\\\", \\\"\\\\\\\"Back \
Rim Impact!\\\\\\\"\\\", \\\"]\\\"}], \\\",\\\", RowBox[{\\\"end\\\", \\\"=\\\
\", \\\"t\\\"}], \\\",\\\", RowBox[{\\\"Print\\\", \\\"[\\\", \\\"end\\\", \\\
\"]\\\"}], \\\",\\\", RowBox[{\\\"newxdot\\\", \\\"=\\\", RowBox[{\\\"N\\\", \
\\\"[\\\", \\\"\[Phi]3dq1p\\\", \\\"]\\\"}]}], \\\",\\\", RowBox[{\\\"newydot\
\\\", \\\"=\\\", RowBox[{\\\"N\\\", \\\"[\\\", \\\"\[Phi]3dq2p\\\", \
\\\"]\\\"}]}], \\\",\\\", RowBox[{\\\"new\[Theta]dot\\\", \\\"=\\\", RowBox[{\
\\\"N\\\", \\\"[\\\", \\\"\[Phi]3dq3p\\\", \\\"]\\\"}]}], \\\",\\\", \
RowBox[{RowBox[{SuperscriptBox[\\\"xSim\\\", \\\"\[Prime]\\\", \
Rule[MultilineFunction, None]], \\\"[\\\", \\\"t\\\", \\\"]\\\"}], \
\\\"\[Rule]\\\", \\\"newxdot\\\"}], \\\",\\\", \
RowBox[{RowBox[{SuperscriptBox[\\\"ySim\\\", \\\"\[Prime]\\\", \
Rule[MultilineFunction, None]], \\\"[\\\", \\\"t\\\", \\\"]\\\"}], \
\\\"\[Rule]\\\", \\\"newydot\\\"}], \\\",\\\", \
RowBox[{RowBox[{SuperscriptBox[\\\"\[Theta]Sim\\\", \\\"\[Prime]\\\", \
Rule[MultilineFunction, None]], \\\"[\\\", \\\"t\\\", \\\"]\\\"}], \
\\\"\[Rule]\\\", \\\"new\[Theta]dot\\\"}], \\\",\\\", RowBox[{\\\"Print\\\", \
\\\"[\\\", \\\"newxdot\\\", \\\"]\\\"}], \\\",\\\", RowBox[{\\\"Print\\\", \\\
\"[\\\", \\\"newydot\\\", \\\"]\\\"}]}], \\\"}\\\"}], \\\",\\\", RowBox[{\\\"\
\\\\\\\"DetectionMethod\\\\\\\"\\\", \\\"\[Rule]\\\", \
\\\"\\\\\\\"Interpolation\\\\\\\"\\\"}], \\\",\\\", \
RowBox[{\\\"\\\\\\\"LocationMethod\\\\\\\"\\\", \\\"\[Rule]\\\", \
RowBox[{\\\"{\\\", RowBox[{\\\"\\\\\\\"Brent\\\\\\\"\\\", \\\",\\\", RowBox[{\
\\\"AccuracyGoal\\\", \\\"\[Rule]\\\", \\\"12\\\"}], \\\",\\\", \
RowBox[{\\\"PrecisionGoal\\\", \\\"\[Rule]\\\", \\\"12\\\"}]}], \
\\\"}\\\"}]}]}], \\\"]\\\"}]}], \\\"}\\\"}], \\\",\\\", RowBox[{\\\"{\\\", \
RowBox[{\\\"xSim\\\", \\\",\\\", \\\"ySim\\\", \\\",\\\", \
\\\"\[Theta]Sim\\\"}], \\\"}\\\"}], \\\",\\\", RowBox[{\\\"{\\\", \
RowBox[{\\\"t\\\", \\\",\\\", \\\"0.34747415663438347`\\\", \\\",\\\", \
\\\"3\\\"}], \\\"}\\\"}]}], \\\"]\\\"}], \\\"}\\\"}]\\) is neither a list of \
replacement rules nor a valid dispatch table, and so cannot be used for \
replacing.\"",2,159,6,32650435922085047981,"Local"},
  "MessageTemplate"]], "Message", "MSG",
 CellChangeTimes->{
  3.7180320560097647`*^9, 3.718394120838751*^9, {3.7183942967293377`*^9, 
   3.7183943132368307`*^9}, 3.718394399669787*^9, 3.718394474169498*^9, 
   3.71839458351856*^9, {3.718394892426189*^9, 3.718394921016163*^9}, 
   3.718394959997048*^9, 3.718395030095675*^9, 3.718395103239149*^9, 
   3.718395254345413*^9, 3.7184599739660254`*^9, 3.7184601796719227`*^9, {
   3.718460591998254*^9, 3.7184606206864853`*^9}, 3.718460676954262*^9, 
   3.7184607949034443`*^9, 3.7184610518883467`*^9}],

Cell[BoxData[
 TemplateBox[{
  "ReplaceAll","reps",
   "\"\\!\\(\\*RowBox[{\\\"{\\\", RowBox[{\\\"NDSolve\\\", \\\"[\\\", \
RowBox[{RowBox[{\\\"{\\\", \
RowBox[{RowBox[{RowBox[{SuperscriptBox[\\\"ySim\\\", \
\\\"\[Prime]\[Prime]\\\", Rule[MultilineFunction, None]], \\\"[\\\", \
\\\"t\\\", \\\"]\\\"}], \\\"\[Equal]\\\", RowBox[{\\\"-\\\", \
\\\"9.8`\\\"}]}], \\\",\\\", RowBox[{RowBox[{SuperscriptBox[\\\"xSim\\\", \
\\\"\[Prime]\[Prime]\\\", Rule[MultilineFunction, None]], \\\"[\\\", \
\\\"t\\\", \\\"]\\\"}], \\\"\[Equal]\\\", \\\"0.`\\\"}], \\\",\\\", \
RowBox[{\\\"\[LeftSkeleton]\\\", \\\"9\\\", \\\"\[RightSkeleton]\\\"}], \\\",\
\\\", RowBox[{\\\"WhenEvent\\\", \\\"[\\\", \
RowBox[{RowBox[{RowBox[{RowBox[{\\\"Distance2D\\\", \\\"[\\\", \
RowBox[{RowBox[{\\\"{\\\", RowBox[{\\\"\[LeftSkeleton]\\\", \\\"2\\\", \\\"\
\[RightSkeleton]\\\"}], \\\"}\\\"}], \\\",\\\", \\\"coordRightRim\\\"}], \
\\\"]\\\"}], \\\"-\\\", RowBox[{\\\"Times\\\", \\\"[\\\", RowBox[{\\\"\
\[LeftSkeleton]\\\", \\\"2\\\", \\\"\[RightSkeleton]\\\"}], \\\"]\\\"}], \
\\\"-\\\", \\\"rBall\\\"}], \\\"\[Equal]\\\", \\\"0\\\"}], \\\",\\\", \
RowBox[{\\\"{\\\", RowBox[{RowBox[{\\\"Print\\\", \\\"[\\\", \\\"\\\\\\\"Back \
Rim Impact!\\\\\\\"\\\", \\\"]\\\"}], \\\",\\\", RowBox[{\\\"end\\\", \\\"=\\\
\", \\\"t\\\"}], \\\",\\\", RowBox[{\\\"Print\\\", \\\"[\\\", \\\"end\\\", \\\
\"]\\\"}], \\\",\\\", RowBox[{\\\"newxdot\\\", \\\"=\\\", RowBox[{\\\"N\\\", \
\\\"[\\\", \\\"\[Phi]3dq1p\\\", \\\"]\\\"}]}], \\\",\\\", RowBox[{\\\"newydot\
\\\", \\\"=\\\", RowBox[{\\\"N\\\", \\\"[\\\", \\\"\[Phi]3dq2p\\\", \
\\\"]\\\"}]}], \\\",\\\", RowBox[{\\\"new\[Theta]dot\\\", \\\"=\\\", RowBox[{\
\\\"N\\\", \\\"[\\\", \\\"\[Phi]3dq3p\\\", \\\"]\\\"}]}], \\\",\\\", \
RowBox[{RowBox[{SuperscriptBox[\\\"xSim\\\", \\\"\[Prime]\\\", \
Rule[MultilineFunction, None]], \\\"[\\\", \\\"t\\\", \\\"]\\\"}], \
\\\"\[Rule]\\\", \\\"newxdot\\\"}], \\\",\\\", \
RowBox[{RowBox[{SuperscriptBox[\\\"ySim\\\", \\\"\[Prime]\\\", \
Rule[MultilineFunction, None]], \\\"[\\\", \\\"t\\\", \\\"]\\\"}], \
\\\"\[Rule]\\\", \\\"newydot\\\"}], \\\",\\\", \
RowBox[{RowBox[{SuperscriptBox[\\\"\[Theta]Sim\\\", \\\"\[Prime]\\\", \
Rule[MultilineFunction, None]], \\\"[\\\", \\\"t\\\", \\\"]\\\"}], \
\\\"\[Rule]\\\", \\\"new\[Theta]dot\\\"}], \\\",\\\", RowBox[{\\\"Print\\\", \
\\\"[\\\", \\\"newxdot\\\", \\\"]\\\"}], \\\",\\\", RowBox[{\\\"Print\\\", \\\
\"[\\\", \\\"newydot\\\", \\\"]\\\"}]}], \\\"}\\\"}], \\\",\\\", RowBox[{\\\"\
\\\\\\\"DetectionMethod\\\\\\\"\\\", \\\"\[Rule]\\\", \
\\\"\\\\\\\"Interpolation\\\\\\\"\\\"}], \\\",\\\", \
RowBox[{\\\"\\\\\\\"LocationMethod\\\\\\\"\\\", \\\"\[Rule]\\\", \
RowBox[{\\\"{\\\", RowBox[{\\\"\\\\\\\"Brent\\\\\\\"\\\", \\\",\\\", RowBox[{\
\\\"AccuracyGoal\\\", \\\"\[Rule]\\\", \\\"12\\\"}], \\\",\\\", \
RowBox[{\\\"PrecisionGoal\\\", \\\"\[Rule]\\\", \\\"12\\\"}]}], \
\\\"}\\\"}]}]}], \\\"]\\\"}]}], \\\"}\\\"}], \\\",\\\", RowBox[{\\\"{\\\", \
RowBox[{\\\"xSim\\\", \\\",\\\", \\\"ySim\\\", \\\",\\\", \
\\\"\[Theta]Sim\\\"}], \\\"}\\\"}], \\\",\\\", RowBox[{\\\"{\\\", \
RowBox[{\\\"t\\\", \\\",\\\", \\\"0.34747415663438347`\\\", \\\",\\\", \
\\\"3\\\"}], \\\"}\\\"}]}], \\\"]\\\"}], \\\"}\\\"}]\\) is neither a list of \
replacement rules nor a valid dispatch table, and so cannot be used for \
replacing.\"",2,160,7,32650435922085047981,"Local"},
  "MessageTemplate"]], "Message", "MSG",
 CellChangeTimes->{
  3.7180320560097647`*^9, 3.718394120838751*^9, {3.7183942967293377`*^9, 
   3.7183943132368307`*^9}, 3.718394399669787*^9, 3.718394474169498*^9, 
   3.71839458351856*^9, {3.718394892426189*^9, 3.718394921016163*^9}, 
   3.718394959997048*^9, 3.718395030095675*^9, 3.718395103239149*^9, 
   3.718395254345413*^9, 3.7184599739660254`*^9, 3.7184601796719227`*^9, {
   3.718460591998254*^9, 3.7184606206864853`*^9}, 3.718460676954262*^9, 
   3.7184607949034443`*^9, 3.7184610519406223`*^9}],

Cell[BoxData[
 TemplateBox[{
  "ReplaceAll","reps",
   "\"\\!\\(\\*RowBox[{\\\"{\\\", RowBox[{\\\"NDSolve\\\", \\\"[\\\", \
RowBox[{RowBox[{\\\"{\\\", \
RowBox[{RowBox[{RowBox[{SuperscriptBox[\\\"ySim\\\", \
\\\"\[Prime]\[Prime]\\\", Rule[MultilineFunction, None]], \\\"[\\\", \
\\\"t\\\", \\\"]\\\"}], \\\"\[Equal]\\\", RowBox[{\\\"-\\\", \
\\\"9.8`\\\"}]}], \\\",\\\", RowBox[{RowBox[{SuperscriptBox[\\\"xSim\\\", \
\\\"\[Prime]\[Prime]\\\", Rule[MultilineFunction, None]], \\\"[\\\", \
\\\"t\\\", \\\"]\\\"}], \\\"\[Equal]\\\", \\\"0.`\\\"}], \\\",\\\", \
RowBox[{\\\"\[LeftSkeleton]\\\", \\\"9\\\", \\\"\[RightSkeleton]\\\"}], \\\",\
\\\", RowBox[{\\\"WhenEvent\\\", \\\"[\\\", \
RowBox[{RowBox[{RowBox[{RowBox[{\\\"Distance2D\\\", \\\"[\\\", \
RowBox[{RowBox[{\\\"{\\\", RowBox[{\\\"\[LeftSkeleton]\\\", \\\"2\\\", \\\"\
\[RightSkeleton]\\\"}], \\\"}\\\"}], \\\",\\\", \\\"coordRightRim\\\"}], \
\\\"]\\\"}], \\\"-\\\", RowBox[{\\\"Times\\\", \\\"[\\\", RowBox[{\\\"\
\[LeftSkeleton]\\\", \\\"2\\\", \\\"\[RightSkeleton]\\\"}], \\\"]\\\"}], \
\\\"-\\\", \\\"rBall\\\"}], \\\"\[Equal]\\\", \\\"0\\\"}], \\\",\\\", \
RowBox[{\\\"{\\\", RowBox[{RowBox[{\\\"Print\\\", \\\"[\\\", \\\"\\\\\\\"Back \
Rim Impact!\\\\\\\"\\\", \\\"]\\\"}], \\\",\\\", RowBox[{\\\"end\\\", \\\"=\\\
\", \\\"t\\\"}], \\\",\\\", RowBox[{\\\"Print\\\", \\\"[\\\", \\\"end\\\", \\\
\"]\\\"}], \\\",\\\", RowBox[{\\\"newxdot\\\", \\\"=\\\", RowBox[{\\\"N\\\", \
\\\"[\\\", \\\"\[Phi]3dq1p\\\", \\\"]\\\"}]}], \\\",\\\", RowBox[{\\\"newydot\
\\\", \\\"=\\\", RowBox[{\\\"N\\\", \\\"[\\\", \\\"\[Phi]3dq2p\\\", \
\\\"]\\\"}]}], \\\",\\\", RowBox[{\\\"new\[Theta]dot\\\", \\\"=\\\", RowBox[{\
\\\"N\\\", \\\"[\\\", \\\"\[Phi]3dq3p\\\", \\\"]\\\"}]}], \\\",\\\", \
RowBox[{RowBox[{SuperscriptBox[\\\"xSim\\\", \\\"\[Prime]\\\", \
Rule[MultilineFunction, None]], \\\"[\\\", \\\"t\\\", \\\"]\\\"}], \
\\\"\[Rule]\\\", \\\"newxdot\\\"}], \\\",\\\", \
RowBox[{RowBox[{SuperscriptBox[\\\"ySim\\\", \\\"\[Prime]\\\", \
Rule[MultilineFunction, None]], \\\"[\\\", \\\"t\\\", \\\"]\\\"}], \
\\\"\[Rule]\\\", \\\"newydot\\\"}], \\\",\\\", \
RowBox[{RowBox[{SuperscriptBox[\\\"\[Theta]Sim\\\", \\\"\[Prime]\\\", \
Rule[MultilineFunction, None]], \\\"[\\\", \\\"t\\\", \\\"]\\\"}], \
\\\"\[Rule]\\\", \\\"new\[Theta]dot\\\"}], \\\",\\\", RowBox[{\\\"Print\\\", \
\\\"[\\\", \\\"newxdot\\\", \\\"]\\\"}], \\\",\\\", RowBox[{\\\"Print\\\", \\\
\"[\\\", \\\"newydot\\\", \\\"]\\\"}]}], \\\"}\\\"}], \\\",\\\", RowBox[{\\\"\
\\\\\\\"DetectionMethod\\\\\\\"\\\", \\\"\[Rule]\\\", \
\\\"\\\\\\\"Interpolation\\\\\\\"\\\"}], \\\",\\\", \
RowBox[{\\\"\\\\\\\"LocationMethod\\\\\\\"\\\", \\\"\[Rule]\\\", \
RowBox[{\\\"{\\\", RowBox[{\\\"\\\\\\\"Brent\\\\\\\"\\\", \\\",\\\", RowBox[{\
\\\"AccuracyGoal\\\", \\\"\[Rule]\\\", \\\"12\\\"}], \\\",\\\", \
RowBox[{\\\"PrecisionGoal\\\", \\\"\[Rule]\\\", \\\"12\\\"}]}], \
\\\"}\\\"}]}]}], \\\"]\\\"}]}], \\\"}\\\"}], \\\",\\\", RowBox[{\\\"{\\\", \
RowBox[{\\\"xSim\\\", \\\",\\\", \\\"ySim\\\", \\\",\\\", \
\\\"\[Theta]Sim\\\"}], \\\"}\\\"}], \\\",\\\", RowBox[{\\\"{\\\", \
RowBox[{\\\"t\\\", \\\",\\\", \\\"0.34747415663438347`\\\", \\\",\\\", \
\\\"3\\\"}], \\\"}\\\"}]}], \\\"]\\\"}], \\\"}\\\"}]\\) is neither a list of \
replacement rules nor a valid dispatch table, and so cannot be used for \
replacing.\"",2,161,8,32650435922085047981,"Local"},
  "MessageTemplate"]], "Message", "MSG",
 CellChangeTimes->{
  3.7180320560097647`*^9, 3.718394120838751*^9, {3.7183942967293377`*^9, 
   3.7183943132368307`*^9}, 3.718394399669787*^9, 3.718394474169498*^9, 
   3.71839458351856*^9, {3.718394892426189*^9, 3.718394921016163*^9}, 
   3.718394959997048*^9, 3.718395030095675*^9, 3.718395103239149*^9, 
   3.718395254345413*^9, 3.7184599739660254`*^9, 3.7184601796719227`*^9, {
   3.718460591998254*^9, 3.7184606206864853`*^9}, 3.718460676954262*^9, 
   3.7184607949034443`*^9, 3.718461051960061*^9}],

Cell[BoxData[
 TagBox[
  StyleBox[
   DynamicModuleBox[{$CellContext`time$$ = 0.34747415663438347`, 
    Typeset`show$$ = True, Typeset`bookmarkList$$ = {}, 
    Typeset`bookmarkMode$$ = "Menu", Typeset`animator$$, Typeset`animvar$$ = 
    1, Typeset`name$$ = "\"untitled\"", Typeset`specs$$ = {{
      Hold[$CellContext`time$$], 0.34747415663438347`, 3}}, Typeset`size$$ = {
    360., {114., 119.}}, Typeset`update$$ = 0, Typeset`initDone$$, 
    Typeset`skipInitDone$$ = True, $CellContext`time$1506$$ = 0}, 
    DynamicBox[Manipulate`ManipulateBoxes[
     1, StandardForm, 
      "Variables" :> {$CellContext`time$$ = 0.34747415663438347`}, 
      "ControllerVariables" :> {
        Hold[$CellContext`time$$, $CellContext`time$1506$$, 0]}, 
      "OtherVariables" :> {
       Typeset`show$$, Typeset`bookmarkList$$, Typeset`bookmarkMode$$, 
        Typeset`animator$$, Typeset`animvar$$, Typeset`name$$, 
        Typeset`specs$$, Typeset`size$$, Typeset`update$$, Typeset`initDone$$,
         Typeset`skipInitDone$$}, "Body" :> Show[
        Graphics[{
         Black, $CellContext`graphicBackboard, 
          Black, $CellContext`graphicLeftRim, 
          Black, $CellContext`graphicRightRim, Black, 
          
          ReplaceAll[$CellContext`graphicL1, $CellContext`t -> \
$CellContext`time$$], Black, 
          
          ReplaceAll[$CellContext`graphicBallSim, $CellContext`t -> \
$CellContext`time$$], Black, 
          
          ReplaceAll[$CellContext`graphicLineSim, $CellContext`t -> \
$CellContext`time$$]}], PlotRange -> {{-6, 2}, {-1, 4}}, Axes -> True], 
      "Specifications" :> {{$CellContext`time$$, 0.34747415663438347`, 3, 
         AnimationRunning -> False, AnimationRate -> 1., 
         AppearanceElements -> {
          "ProgressSlider", "PlayPauseButton", "FasterSlowerButtons", 
           "DirectionButton"}}}, 
      "Options" :> {
       ControlType -> Animator, AppearanceElements -> None, DefaultBaseStyle -> 
        "Animate", DefaultLabelStyle -> "AnimateLabel", SynchronousUpdating -> 
        True, ShrinkingDelay -> 10.}, "DefaultOptions" :> {}],
     ImageSizeCache->{405., {151., 157.}},
     SingleEvaluation->True],
    Deinitialization:>None,
    DynamicModuleValues:>{},
    SynchronousInitialization->True,
    UndoTrackedVariables:>{Typeset`show$$, Typeset`bookmarkMode$$},
    UnsavedVariables:>{Typeset`initDone$$},
    UntrackedVariables:>{Typeset`size$$}], "Animate",
   Deployed->True,
   StripOnInput->False],
  Manipulate`InterpretManipulate[1]]], "Output",
 CellChangeTimes->{
  3.7179670908996897`*^9, 3.718032062461776*^9, 3.71839412119193*^9, {
   3.7183942970580883`*^9, 3.718394313521068*^9}, 3.718394399606217*^9, 
   3.7183944744943132`*^9, 3.718394583759603*^9, {3.718394892686754*^9, 
   3.718394921355309*^9}, 3.718394960257414*^9, 3.718395030396356*^9, 
   3.718395103406477*^9, 3.7183952545782347`*^9, 3.718459974140902*^9, 
   3.718460179843061*^9, {3.7184605923881683`*^9, 3.718460620927895*^9}, 
   3.718460677161828*^9, 3.71846079512366*^9, 3.718461052035659*^9}]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Plots", "Section",
 CellChangeTimes->{{3.717879767724052*^9, 3.71787979095359*^9}, {
  3.717959230235443*^9, 3.717959243256103*^9}, {3.717967038275772*^9, 
  3.71796703937535*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", " ", 
   RowBox[{
   "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", 
    "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", 
    "##"}], " ", "*)"}], "\[IndentingNewLine]", 
  RowBox[{"(*", " ", 
   RowBox[{"Piecewise", " ", "Graphics", " ", "Primitives"}], " ", "*)"}], 
  "\[IndentingNewLine]", 
  RowBox[{"(*", " ", 
   RowBox[{
   "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", 
    "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", 
    "##"}], " ", "*)"}], "\[IndentingNewLine]", "\[IndentingNewLine]", 
  RowBox[{
   RowBox[{
    RowBox[{
     RowBox[{"graphicBall", "[", "time_", "]"}], ":=", 
     RowBox[{"Piecewise", "[", 
      RowBox[{"{", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{"graphicBallHold", ",", 
          RowBox[{"0", "<=", "t", "<=", "tRoll"}]}], "}"}], ",", 
        "\[IndentingNewLine]", 
        RowBox[{"{", 
         RowBox[{"graphicBallRoll", ",", 
          RowBox[{"tRoll", "<", "t", "<=", "tRelease"}]}], "}"}], ",", 
        "\[IndentingNewLine]", 
        RowBox[{"{", 
         RowBox[{"graphicBallSim", ",", 
          RowBox[{"tRelease", "<", "t"}]}], "}"}]}], "\[IndentingNewLine]", 
       "}"}], "]"}]}], ";"}], "\[IndentingNewLine]", "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{
     RowBox[{"graphicLine", "[", "time_", "]"}], ":=", 
     RowBox[{"Piecewise", "[", 
      RowBox[{"{", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{"graphicLineHold", ",", 
          RowBox[{"0", "<=", "t", "<=", "tRoll"}]}], "}"}], ",", 
        "\[IndentingNewLine]", 
        RowBox[{"{", 
         RowBox[{"graphicLineRoll", ",", 
          RowBox[{"tRoll", "<", "t", "<=", "tRelease"}]}], "}"}], ",", 
        "\[IndentingNewLine]", 
        RowBox[{"{", 
         RowBox[{"graphicLineSim", ",", 
          RowBox[{"tRelease", "<", "t"}]}], "}"}]}], "\[IndentingNewLine]", 
       "}"}], "]"}]}], ";"}], "\[IndentingNewLine]", "\[IndentingNewLine]", 
   RowBox[{"(*", " ", 
    RowBox[{
    "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", 
     "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", 
     "##"}], " ", "*)"}], "\[IndentingNewLine]", 
   RowBox[{"(*", " ", 
    RowBox[{"Plots", " ", "and", " ", "Animation"}], " ", "*)"}], 
   "\[IndentingNewLine]", 
   RowBox[{"(*", " ", 
    RowBox[{
    "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", 
     "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", "##", 
     "##"}], " ", "*)"}], "\[IndentingNewLine]", "\[IndentingNewLine]", 
   RowBox[{"Animate", "[", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"Show", "[", "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"Graphics", "[", 
        RowBox[{"{", "\[IndentingNewLine]", 
         RowBox[{
         "Black", ",", "graphicBackboard", ",", "\[IndentingNewLine]", 
          "Black", ",", "graphicLeftRim", ",", "\[IndentingNewLine]", "Black",
           ",", "graphicRightRim", ",", "\[IndentingNewLine]", "Black", ",", 
          RowBox[{
           RowBox[{"graphicBall", "[", "t", "]"}], "/.", 
           RowBox[{"t", "\[Rule]", "time"}]}], ",", "\[IndentingNewLine]", 
          "Black", ",", 
          RowBox[{
           RowBox[{"graphicLine", "[", "t", "]"}], "/.", 
           RowBox[{"t", "\[Rule]", "time"}]}]}], "\[IndentingNewLine]", "}"}],
         "]"}], ",", "\[IndentingNewLine]", 
       RowBox[{"PlotRange", "\[Rule]", 
        RowBox[{"{", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{
            RowBox[{"-", "10"}], ",", "5"}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"-", "1"}], ",", "6"}], "}"}]}], "}"}]}], ",", 
       "\[IndentingNewLine]", 
       RowBox[{"Axes", "\[Rule]", "True"}]}], "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{"ImageSize", "\[Rule]", "Full"}], "*)"}], 
      "\[IndentingNewLine]", "]"}], ",", "\[IndentingNewLine]", 
     RowBox[{"{", 
      RowBox[{"time", ",", "0", ",", "tMax"}], "}"}], ",", 
     "\[IndentingNewLine]", 
     RowBox[{"AnimationRunning", "\[Rule]", "False"}], ",", 
     "\[IndentingNewLine]", 
     RowBox[{"AnimationRate", "\[Rule]", "0.4"}]}], "\[IndentingNewLine]", 
    RowBox[{"(*", 
     RowBox[{"ContentSize", "\[Rule]", 
      RowBox[{"{", 
       RowBox[{"1000", ",", "800"}], "}"}]}], "*)"}], "\[IndentingNewLine]", 
    "]"}]}]}]], "Input",
 CellChangeTimes->{{3.717894608150166*^9, 3.7178946091717978`*^9}, 
   3.71794607569625*^9, {3.71794611861782*^9, 3.7179461966239758`*^9}, {
   3.7179462321168327`*^9, 3.717946331430282*^9}, {3.7179463662707863`*^9, 
   3.7179463885585127`*^9}, {3.717946425494512*^9, 3.717946559158725*^9}, {
   3.717946657196125*^9, 3.7179470101707783`*^9}, {3.7179470807109137`*^9, 
   3.7179471865519037`*^9}, {3.717947217622748*^9, 3.71794730878655*^9}, {
   3.71794734509214*^9, 3.717947391520294*^9}, {3.7179474846526623`*^9, 
   3.717947513201953*^9}, {3.7179475727131367`*^9, 3.717947583892488*^9}, {
   3.717947666610379*^9, 3.717947667512206*^9}, 3.717948041132133*^9, {
   3.717956968365679*^9, 3.717956970726988*^9}, {3.717958710453458*^9, 
   3.717958718429564*^9}, {3.71795913630298*^9, 3.7179592028461313`*^9}, {
   3.717959247329309*^9, 3.717959429476708*^9}, {3.7179646235926228`*^9, 
   3.7179646397036657`*^9}, 3.718031605726633*^9, {3.718031740147707*^9, 
   3.718031743847722*^9}, {3.7183951519043493`*^9, 3.718395239723793*^9}, {
   3.718395289063661*^9, 3.718395312699307*^9}, {3.718460024597453*^9, 
   3.71846002887532*^9}}],

Cell[BoxData[
 TagBox[
  StyleBox[
   DynamicModuleBox[{$CellContext`time$$ = 0., Typeset`show$$ = True, 
    Typeset`bookmarkList$$ = {}, Typeset`bookmarkMode$$ = "Menu", 
    Typeset`animator$$, Typeset`animvar$$ = 1, Typeset`name$$ = 
    "\"untitled\"", Typeset`specs$$ = {{
      Hold[$CellContext`time$$], 0, 3}}, Typeset`size$$ = {360., {86., 91.}}, 
    Typeset`update$$ = 0, Typeset`initDone$$, Typeset`skipInitDone$$ = 
    True, $CellContext`time$2712$$ = 0}, 
    DynamicBox[Manipulate`ManipulateBoxes[
     1, StandardForm, "Variables" :> {$CellContext`time$$ = 0}, 
      "ControllerVariables" :> {
        Hold[$CellContext`time$$, $CellContext`time$2712$$, 0]}, 
      "OtherVariables" :> {
       Typeset`show$$, Typeset`bookmarkList$$, Typeset`bookmarkMode$$, 
        Typeset`animator$$, Typeset`animvar$$, Typeset`name$$, 
        Typeset`specs$$, Typeset`size$$, Typeset`update$$, Typeset`initDone$$,
         Typeset`skipInitDone$$}, "Body" :> Show[
        Graphics[{
         Black, $CellContext`graphicBackboard, 
          Black, $CellContext`graphicLeftRim, 
          Black, $CellContext`graphicRightRim, Black, 
          ReplaceAll[
           $CellContext`graphicBall[$CellContext`t], $CellContext`t -> \
$CellContext`time$$], Black, 
          ReplaceAll[
           $CellContext`graphicLine[$CellContext`t], $CellContext`t -> \
$CellContext`time$$]}], PlotRange -> {{-10, 5}, {-1, 6}}, Axes -> True], 
      "Specifications" :> {{$CellContext`time$$, 0, 3, AnimationRunning -> 
         False, AnimationRate -> 0.4, 
         AppearanceElements -> {
          "ProgressSlider", "PlayPauseButton", "FasterSlowerButtons", 
           "DirectionButton"}}}, 
      "Options" :> {
       ControlType -> Animator, AppearanceElements -> None, DefaultBaseStyle -> 
        "Animate", DefaultLabelStyle -> "AnimateLabel", SynchronousUpdating -> 
        True, ShrinkingDelay -> 10.}, "DefaultOptions" :> {}],
     ImageSizeCache->{405., {123., 129.}},
     SingleEvaluation->True],
    Deinitialization:>None,
    DynamicModuleValues:>{},
    SynchronousInitialization->True,
    UndoTrackedVariables:>{Typeset`show$$, Typeset`bookmarkMode$$},
    UnsavedVariables:>{Typeset`initDone$$},
    UntrackedVariables:>{Typeset`size$$}], "Animate",
   Deployed->True,
   StripOnInput->False],
  Manipulate`InterpretManipulate[1]]], "Output",
 CellChangeTimes->{{3.7179462745262003`*^9, 3.7179463317588387`*^9}, {
   3.717946877940117*^9, 3.717946920599496*^9}, {3.71794695995179*^9, 
   3.71794697903804*^9}, 3.717947011346486*^9, 3.717947106107286*^9, 
   3.717947190981413*^9, {3.7179472236585073`*^9, 3.7179472291658783`*^9}, 
   3.717947391967389*^9, {3.717948033150484*^9, 3.717948041695428*^9}, {
   3.717959304191989*^9, 3.717959363703253*^9}, {3.7183951395989437`*^9, 
   3.718395152985042*^9}, 3.7183952626402407`*^9, 3.718459996061661*^9}]
}, Open  ]]
}, Open  ]]
}, Open  ]]
},
WindowSize->{1280, 751},
WindowMargins->{{0, Automatic}, {Automatic, 0}},
DockedCells->{},
TaggingRules->{"NotebookTemplateVersion" -> 1., "NotebookTemplate" -> True},
CellContext->Notebook,
FrontEndVersion->"11.0 for Mac OS X x86 (32-bit, 64-bit Kernel) (September \
21, 2016)",
StyleDefinitions->"Default.nb"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{}
*)
(*CellTagsIndex
CellTagsIndex->{}
*)
(*NotebookFileOutline
Notebook[{
Cell[CellGroupData[{
Cell[580, 22, 243, 3, 92, "Title"],
Cell[CellGroupData[{
Cell[848, 29, 345, 9, 144, "Subsection"],
Cell[1196, 40, 284, 5, 32, "Input"]
}, Open  ]],
Cell[CellGroupData[{
Cell[1517, 50, 377, 5, 64, "Section"],
Cell[CellGroupData[{
Cell[1919, 59, 31826, 807, 3206, "Input"],
Cell[33748, 868, 3484, 51, 24, "Message"],
Cell[37235, 921, 2668, 55, 325, "Output"]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[39952, 982, 158, 2, 64, "Section"],
Cell[CellGroupData[{
Cell[40135, 988, 36663, 928, 2847, "Input"],
Cell[CellGroupData[{
Cell[76823, 1920, 231, 3, 24, "Print"],
Cell[77057, 1925, 232, 3, 24, "Print"]
}, Open  ]],
Cell[77304, 1931, 5621, 96, 325, "Output"]
}, Open  ]],
Cell[82940, 2030, 85, 1, 32, "Input"]
}, Open  ]],
Cell[CellGroupData[{
Cell[83062, 2036, 121, 1, 64, "Section"],
Cell[CellGroupData[{
Cell[83208, 2041, 40535, 1065, 3288, "Input"],
Cell[123746, 3108, 805, 14, 24, "Message"],
Cell[124554, 3124, 803, 14, 24, "Message"],
Cell[125360, 3140, 5668, 85, 124, "Message"],
Cell[131031, 3227, 5669, 85, 124, "Message"],
Cell[136703, 3314, 3900, 59, 76, "Message"],
Cell[140606, 3375, 3900, 59, 76, "Message"],
Cell[144509, 3436, 3898, 59, 76, "Message"],
Cell[148410, 3497, 3041, 60, 325, "Output"]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[151500, 3563, 186, 3, 64, "Section"],
Cell[CellGroupData[{
Cell[151711, 3570, 5675, 123, 810, "Input"],
Cell[157389, 3695, 2866, 55, 269, "Output"]
}, Open  ]]
}, Open  ]]
}, Open  ]]
}
]
*)

